(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{9090:function(e,r,t){"use strict";t.d(r,{Z:function(){return B}});var n=t(6265),o=t(7294),i=t(1120),a=t(1749),s=t(9803),c=t(6209),u=t(5639),l=t(2283),p=t(6445),f=t(3700),d=t(585),g=t(4179),m=t(4264),h=t(463),b=t(5155),v=o.createElement;function y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?y(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var O=(0,i.Z)((function(e){return{}})),w={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},j={display:"flex",flexDirection:"column",width:"100%"},k={borderColor:"#2196f3"},Z={borderColor:"#00e676"},P={borderColor:"#ff1744"},D={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},E={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:75,height:75,padding:4,boxSizing:"border-box",objectFit:"contain"},S={display:"flex",minWidth:0,maxWidth:"100px",maxHeight:"100px",overflow:"hidden",objectFit:"contain"},C={display:"block",width:"auto",height:"100%",objectFit:"contain"};v(b.BI8,null);function R(e){var r=e.register,t=e.unregister,n=e.name,i=e.setValue,a=e.watch,s=e.userPrompt,c=(e.accept,a(n)),u=(0,o.useCallback)((function(e){i(n,e.map((function(e){var r;return Object.assign(e,{extension:null===e||void 0===e||null===(r=e.path)||void 0===r?void 0:r.split(".").pop(),preview:URL.createObjectURL(e)})})),{shouldValidate:!0})}),[i,n]),l=(0,h.uI)({onDrop:u}),p=l.getRootProps,f=l.getInputProps,d=l.isDragActive,g=l.isDragAccept,m=l.isDragReject,y=c&&c.map&&(null===c||void 0===c?void 0:c.map((function(e){return v("div",{style:E,key:e.name},v("div",{style:S},"csv"===e.extension&&v(b.BI8,{style:C}),"csv"!==e.extension&&v("img",{src:e.preview,style:C})))})));(0,o.useEffect)((function(){return r(n),function(){t(n)}}),[r,t,n]),(0,o.useEffect)((function(){return function(){null===c||void 0===c||c.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[c]);O();var R=(0,o.useMemo)((function(){return x(x(x(x({},w),d?k:{}),g?Z:{}),m?P:{})}),[d,m,g]);return v("section",{style:j},v("div",p({style:R}),v("input",f()),v("p",null,s||"Drag 'n' drop files here, or click to select.")),v("div",{style:D},v("ul",null,y)))}var T=o.createElement;function L(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function N(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?L(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var I=(0,i.Z)((function(e){var r;return{description:{marginTop:12.5,marginBottom:17.5,fontWeight:400},descriptionLight:{marginTop:0,fontWeight:300,fontSize:"0.85rem",textTransform:"none"},selectControl:{width:"100%",marginBottom:0},selectInput:{marginBottom:"0px"},formControl:{width:"100%",marginTop:e.spacing(1)},descriptionNote:(r={fontSize:"0.85rem",color:e.palette.text.hint,marginLeft:e.spacing(2)},(0,n.Z)(r,e.breakpoints.up("md"),{marginTop:0,marginLeft:e.spacing(0)}),(0,n.Z)(r,"marginBottom",12.5),(0,n.Z)(r,"paddingLeft",e.spacing(0)),(0,n.Z)(r,"fontWeight",300),(0,n.Z)(r,"textTransform","none"),(0,n.Z)(r,"marginTop",0),r),select:{paddingTop:"18.5px",paddingBottom:"14px"},helperText:{color:"red"},paragraphExpand:{marginBottom:e.spacing(2)}}}));function B(e){var r=I(e),t=e.title,n=e.editing,o=e.errors,i=e.register,h=e.control,b=e.unregister,v=e.setValue,y=e.watch,x=e.fields;return T(a.Z,{container:!0,spacing:0},T(a.Z,{item:!0,xs:12},T(g.Z,{variant:"h4",className:r.description},t)),x&&Object.keys(x).map((function(e){var t,O,w,j,k,Z=N(N({},x[e]),{},{key:(null===(t=x[e])||void 0===t?void 0:t.key)||e}),P=!Z.readOnly&&n,D=!Z.select&&!Z.image&&!Z.file,E=Z.select&&!Z.image,S=!Z.select&&Z.image,C=!Z.select&&!Z.image&&Z.file;Z.select&&Z.image&&console.error(new Error("cannot combine image and select parameters for field: "+e));var L=Z.validate||Z.required,I={};return Z.required,I.required="This field is required",Z.validate&&(I.validate=Z.validate),console.log(o[Z.key]),T(a.Z,{container:!0,item:!0,xs:12,key:Z.key},T(a.Z,{item:!0,md:Z.paragraph?12:6,xs:12},!P&&!Z.editOnly&&!S&&T(a.Z,{container:!0,spacing:0},T(a.Z,{item:!0,xs:Z.paragraph?3:6},T(g.Z,{variant:"h6",className:r.descriptionLight},Z.name)),T(a.Z,{item:!0,sm:Z.paragraph?9:6,xs:Z.paragraph?12:6,className:Z.paragraph?r.paragraphExpand:""},T(g.Z,{variant:"h6",className:r.descriptionLight},Z.value||""," ",Z.value&&Z.unit))),P&&D&&T(g.Z,{variant:"h6",className:r.descriptionLight},T(p.Z,{className:r.formControl},T(s.Z,{error:!!o[Z.key],helperText:null===(O=o[Z.key])||void 0===O?void 0:O.message,label:Z.name,defaultValue:Z.value||"",name:Z.key,inputRef:L?i(I):i,variant:"outlined",InputProps:{style:{marginBottom:"0px"}}}))),P&&E&&T(g.Z,{variant:"h6",className:r.descriptionLight},T(p.Z,{variant:"outlined",className:r.formControl},T(f.Z,{id:"demo-simple-select-outlined-label"},Z.name),T(l.Qr,{className:r.selectControl,as:T(c.Z,{error:!!o[Z.key],label:Z.name,MenuProps:{className:r.selectMenu},classes:{select:r.select},defaultValue:Z.value||""},Z.select.map((function(e){return T(u.Z,{classes:{root:r.selectMenuItem},key:e.key,value:e.value},e.display?e.display:e.key)}))),name:Z.key,rules:I,control:h,defaultValue:Z.value||"",inputProps:{className:r.selectInput}}),o[Z.key]&&T(d.Z,{className:r.helperText},null===(w=o[Z.key])||void 0===w?void 0:w.message)))),(Z.editOnly&&P||!Z.editOnly)&&T(a.Z,{item:!0,md:12,xs:P?12:6,container:!0,alignItems:"center"},T(g.Z,{variant:"h6",className:r.descriptionNote},Z.description)),P&&S&&T(m.Z,{name:Z.key,register:i,unregister:b,setValue:v,watch:y,existing:null===(j=Z.value)||void 0===j?void 0:j.url}),P&&C&&T(R,{name:Z.key,register:i,unregister:b,setValue:v,watch:y,existing:null===(k=Z.value)||void 0===k?void 0:k.url,userPrompt:C.userPrompt,multiple:C.multiple,fileRestrictions:C.accept}))})))}},4264:function(e,r,t){"use strict";t.d(r,{Z:function(){return x}});var n=t(6265),o=t(1120),i=t(7294),a=t(463),s=i.createElement;function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var l=(0,o.Z)((function(e){return{}})),p={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},f={display:"flex",flexDirection:"row"},d={borderColor:"#2196f3"},g={borderColor:"#00e676"},m={borderColor:"#ff1744"},h={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},b={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:75,height:75,padding:4,boxSizing:"border-box"},v={display:"flex",minWidth:0,maxWidth:"100px",maxHeight:"100px",overflow:"hidden"},y={display:"block",width:"auto",height:"100%"};function x(e){var r=e.register,t=e.unregister,n=e.name,o=e.setValue,c=e.watch,x=(e.existing,c(n)),O=(0,i.useCallback)((function(e){o(n,e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})),{shouldValidate:!0})}),[o,n]),w=(0,a.uI)({accept:"image/*",maxFiles:1,onDrop:O}),j=w.getRootProps,k=w.getInputProps,Z=w.isDragActive,P=w.isDragAccept,D=w.isDragReject,E=x&&(null===x||void 0===x?void 0:x.map((function(e){return s("div",{style:b,key:e.name},s("div",{style:v},s("img",{src:e.preview,style:y})))})));(0,i.useEffect)((function(){return r(n),function(){t(n)}}),[r,t,n]),(0,i.useEffect)((function(){return function(){null===x||void 0===x||x.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[x]);l();var S=(0,i.useMemo)((function(){return u(u(u(u({},p),Z?d:{}),P?g:{}),D?m:{})}),[Z,D,P]);return s("section",{style:f},s("div",j({style:S}),s("input",k()),s("p",null,"(Optional) Drag 'n' drop your project image here, or click to select")),s("aside",{style:h},s("ul",null,E)))}},9650:function(e,r,t){"use strict";t(809)},6252:function(e,r,t){"use strict";t.d(r,{CW:function(){return s},JB:function(){return u},th:function(){return p},GG:function(){return d},eK:function(){return m}});var n=t(809),o=t.n(n),i=t(2447),a=t(9742);t(9650);function s(e,r){return c.apply(this,arguments)}function c(){return(c=(0,i.Z)(o().mark((function e(r,t){var n,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.Z)("post",null,t,r);case 2:return n=e.sent,e.next=5,fetch("".concat(a.K,"/project/new"),n);case 5:if((i=e.sent).ok){e.next=8;break}throw Error("Server Side error, check network response: "+i.status+" "+i.statusText);case 8:return e.next=10,i.json();case 10:return s=e.sent,console.log(s),e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,r,t){return l.apply(this,arguments)}function l(){return(l=(0,i.Z)(o().mark((function e(r,t,n){var i,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("must supply project id for patching");case 2:return e.next=4,(0,a.Z)("post",null,n,r);case 4:return i=e.sent,e.next=7,fetch("".concat(a.K,"/project/update/").concat(t),i);case 7:if((s=e.sent).ok){e.next=10;break}throw Error("Server Side error, check network response: "+s.status+" "+s.statusText);case 10:return e.next=12,s.json();case 12:return c=e.sent,console.log(c),e.abrupt("return",c);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,r){return f.apply(this,arguments)}function f(){return(f=(0,i.Z)(o().mark((function e(r,t){var n,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("must supply project id for deleting");case 2:return e.next=4,(0,a.Z)("delete",null,r);case 4:return n=e.sent,e.next=7,fetch("".concat(a.K,"/project/delete/").concat(t),n);case 7:if((i=e.sent).ok){e.next=10;break}throw Error("Server Side error, check network response: "+i.status+" "+i.statusText);case 10:return e.next=12,i.json();case 12:return s=e.sent,console.log(s),e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,r){return g.apply(this,arguments)}function g(){return(g=(0,i.Z)(o().mark((function e(r,t){var n,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.Z)("post","application/json",{_id:""+t},r);case 2:return n=e.sent,e.next=5,fetch("".concat(a.K,"/projects"),n);case 5:if((i=e.sent).ok){e.next=8;break}throw Error("Server Side error, check network response: "+i.status+" "+i.statusText);case 8:return e.next=10,i.json();case 10:return s=e.sent,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return h.apply(this,arguments)}function h(){return(h=(0,i.Z)(o().mark((function e(r){var t,n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.Z)("get","application/json",null,r);case 2:return t=e.sent,e.next=5,fetch("".concat(a.K,"/projects"),t);case 5:if((n=e.sent).ok){e.next=8;break}throw Error("Server Side error, check network response: "+n.status+" "+n.statusText);case 8:return e.next=10,n.json();case 10:return i=e.sent,e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},3027:function(e,r,t){"use strict";t.d(r,{L:function(){return h}});var n=t(809),o=t.n(n),i=t(6265),a=t(2447),s=t(4121),c=t(7294),u=t(2804),l=t(8364),p=t(6252);function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var g={response:!1,inProgress:!1,error:!1},m=(0,u.cn)({key:"projectListAtom",default:g});function h(e){var r=(0,u.FV)(m),t=(0,s.Z)(r,2),n=t[0],i=t[1],f=(0,l.dQ)(),h=(0,s.Z)(f,3),b=h[0];h[1],h[2];(0,c.useEffect)((function(){e&&i(g)}),[]),(0,c.useEffect)((function(){!b||n.response||n.error||n.inProgress||function(){var e=(0,a.Z)(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(d(d({},n),{},{inProgress:!0})),e.next=4,(0,p.eK)(b);case 4:r=e.sent,i({response:r,inProgress:!1}),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("useProject error"),console.error(e.t0),i({error:e.t0,inProgress:!1});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[b,n]);return[n.response,n.inProgress,n.error,function(){i(g)}]}},8065:function(e,r,t){"use strict";function n(e,r){for(var t=new FormData,n=Object.keys(e),o=function(o){var i=n[o],a=e[i];r[i]?null===a||void 0===a||a.forEach((function(e){console.log("appending file "+i+" - "+e.path),t.append(i,e,e.path)})):t.append(i,a)},i=0;i<n.length;i++)o(i);return t}t.d(r,{Z:function(){return n}})}}]);