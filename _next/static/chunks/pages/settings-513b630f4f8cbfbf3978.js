(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{1729:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ue}});var i=t(4121),a=t(7294),r=t(4321),o=t(4179),l=t(1630),u=(t(2236),t(7229),t(1120)),c=t(3832),s=t(8920),d=t(3457),p=t(9681),f=(t(9464),t(7922),t(8289),t(1872),t(664),t(1229)),g=t(8347),v=t(4096),Z=t(1423),m=t(9956),b=t(5517),h=a.createElement;function y(e){var n=e.children,t=e.value,i=e.index,a=(0,g.Z)(e,["children","value","index"]);return h("div",(0,f.Z)({role:"tabpanel",hidden:t!==i,id:"vertical-tabpanel-".concat(i),"aria-labelledby":"vertical-tab-".concat(i)},a),t===i&&h(m.Z,{p:3},n))}var C=(0,u.Z)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex",borderRadius:e.shape.borderRadius,minHeight:"90vh"},tabs:{borderRight:"1px solid ".concat(e.palette.divider)},titleRoot:{zIndex:100,position:"absolute",width:"161px",borderRight:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)},titleText:{marginTop:e.spacing(2),marginBottom:e.spacing(1)},tabPanelRoot:{width:"80%"},tabPanelTitle:{marginTop:e.spacing(0)}}})),T=(0,u.Z)((function(e){return{root:{marginTop:"52px"}}}));function k(e){var n=e.settings,t=C(),r=T(),l=a.useState(0),u=(0,i.Z)(l,2),c=u[0],s=u[1];return h("span",null,h("div",{className:t.titleRoot},h(o.Z,{className:t.titleText,variant:"h4",component:"h1",align:"center"}," Settings ")),h("div",{className:t.root},h(v.Z,{orientation:"vertical",variant:"scrollable",value:c,onChange:function(e,n){s(n)},"aria-label":"Setting Vertical Tab Nav",className:t.tabs,classes:r},n.map((function(e,n){return h(Z.Z,(0,f.Z)({key:(e.key||e.tabTitle||e.title)+"-tabTitle",label:h(o.Z,null,e.tabTitle||e.title||e.key)},function(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}(0)))}))),n.map((function(e,n){return h(y,{key:(e.key||e.tabTitle||e.title)+"-tabPanel",className:t.tabPanelRoot,value:c,index:n},h(o.Z,{variant:"h3",className:t.tabPanelTitle},e.title||e.tabTitle||e.key),h(b.Z,null),e.content)}))))}var x=t(616),w=t(8767),N=t(8364),P=(t(1388),t(809)),_=t.n(P),E=t(2447),S=t(9742);function I(){return(I=(0,E.Z)(_().mark((function e(n){var t;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.fy)("siteConfig/query/get",null,n);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=(0,E.Z)(_().mark((function e(n,t){var i;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.fy)("siteConfig/query/update",n,t);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){var e=(0,N.dQ)(),n=(0,i.Z)(e,3),t=n[0],a=(n[1],n[2],(0,w.useQuery)("siteConfig",(function(){return function(e){return I.apply(this,arguments)}(t)}),{enabled:!!t})),r=a.isLoading,o=a.error;return[a.data,r,o,a.refetch]}var O=t(5477),R=t(1749),A=t(282),Q=t(5894),F=t(7958),G=t(74),U=t(7162),V=t(553),j=t(6445),q=t(6019),H=t(2663),K=t(6856),X=t(9525),z=t(7212),D=t(6083),J=a.createElement;function M(e){var n=e.title,t=e.msg,i=void 0===t?"Are you sure you want to proceed?":t,a=e.confirmText,r=void 0===a?"Yes":a,o=e.cancelText,l=void 0===o?"No":o,u=e.open,c=e.onCancelled,s=e.onConfirmed,d=function(){c()};return J("div",null,J(H.Z,{open:u,onClose:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},n&&J(D.Z,{id:"alert-dialog-title"},n),J(X.Z,null,J(z.Z,{id:"alert-dialog-description"},i)),J(K.Z,null,J(A.Z,{onClick:d,color:"primary"},l),J(A.Z,{onClick:function(){s()},color:"primary",autoFocus:!0},r))))}var W=t(8463),Y=a.createElement;function $(e){var n=e.options,t=e.value,i=e.onChange,r=e.getOptionValue,l=e.getOptionLabel,u=e.noneLabel,c=e.getOptionKey,s=e.title,d=e.name,p=e.titleProps,f=void 0===p?{}:p,g=(0,a.useState)(null),v=g[0],Z=g[1];return Y(j.Z,{component:"fieldset"},s&&Y(q.Z,{component:"legend"},Y(o.Z,f,s)),Y(U.Z,{"aria-label":d,name:d,value:t,onChange:function(e){Z(e.target.value)}},Y(R.Z,{container:!0,spacing:3},n.map((function(e){return Y(R.Z,{key:c(e),item:!0},Y(W.Z,null,Y(V.Z,{labelPlacement:"top",value:r(e),control:Y(G.Z,null),label:l(e)})))})),Y(R.Z,{item:!0},Y(W.Z,null,Y(V.Z,{labelPlacement:"top",value:"",control:Y(G.Z,null),label:u}))))),Y(M,{open:null!==v,onCancelled:function(){return Z(null)},onConfirmed:function(){i(v),Z(null)}}))}function ee(){var e=(0,N.dQ)(),n=(0,i.Z)(e,3),t=n[0],a=(n[1],n[2],(0,w.useMutation)((function(e){return function(e,n){return B.apply(this,arguments)}(e.configChanges,t)})));return[a.data,a.isLoading,a.error,function(e){a.mutate({configChanges:e})},a.reset]}var ne=t(1015),te=a.createElement;var ie=(0,u.Z)((function(e){return{root:{marginBottom:e.spacing(3)},uploadButton:{marginTop:e.spacing(2)}}}));function ae(){var e=ie(),n=L(),t=(0,i.Z)(n,4),r=t[0],l=t[1],u=(t[2],t[3]),c=function(e){var n=(0,N.dQ)(),t=(0,i.Z)(n,1)[0],a=(0,w.useQuery)(["siteConfigPredesign",null===e||void 0===e?void 0:e.predesignId],(function(){return(0,Q.WB)(null===e||void 0===e?void 0:e.predesignId,t)}),{enabled:!(null===e||void 0===e||!e.predesignId)&&!!t}),r=a.isLoading,o=a.error;return[a.data,r,o,a.refetch]}(r),s=(0,i.Z)(c,3),d=(s[0],s[1],s[2],function(){var e=(0,N.dQ)(),n=(0,i.Z)(e,1)[0],t=(0,w.useQuery)("siteConfigAvailablePredesigns",(function(){return(0,Q.Jo)(n)}),{enabled:!!n}),a=t.isLoading,r=t.error;return[t.data,a,r,t.refetch]}()),p=(0,i.Z)(d,4),f=p[0],g=p[1],v=(p[2],p[3]);(0,a.useEffect)((function(){r&&v()}),[r]);var Z=ee(),m=(0,i.Z)(Z,5),b=m[0],h=m[1],y=(m[2],m[3]),C=m[4];(0,a.useEffect)((function(){b&&(u(),C())}),[b]);var T=a.useState(!1),k=(0,i.Z)(T,2),x=k[0],P=k[1];return te("section",{className:e.root},te(o.Z,{variant:"h4"},"Predesign Area"),te("div",null,l&&te(O.Z,null),r&&!(null!==r&&void 0!==r&&r.predesignId)&&te(o.Z,null,"There's currently nothing configured as the predesign dataset. Please select upload a new dataset or select an existing one from below!"),g&&te(O.Z,null),h&&te(O.Z,null),f&&!h&&te("div",null,te($,{title:"Available Source Datasets",selected:null===r||void 0===r?void 0:r.predesignId,options:f,getOptionKey:function(e){return e._id},getOptionLabel:function(e){return te(R.Z,{container:!0,direction:"column"},te(R.Z,{item:!0,container:!0,justifyContent:"center"},te(R.Z,{item:!0},te(ne.Z,null))),te(R.Z,{item:!0},te(o.Z,null,e.name)))},noneLabel:te(R.Z,{container:!0,direction:"column"},te(R.Z,{item:!0,container:!0,justifyContent:"center"},te(R.Z,{item:!0},te(ne.Z,null))),te(R.Z,{item:!0},te(o.Z,null,"None \ud83d\udea7"))),getOptionValue:function(e){return e._id},value:(null===r||void 0===r?void 0:r.predesignId)||"",titleProps:{variant:"h5",gutterBottom:!0},onChange:function(e){return y({predesignId:e})}}),te("div",{styl:{position:"relative",width:"100%"}},te(A.Z,{className:e.uploadButton,variant:"contained",color:"primary",onClick:function(){P(!0)}},"Upload New"),te(F.o,{open:x,onCancelled:function(){P(!1)},title:"Upload a new predesign dataset",typeId:"source",onComplete:function(){console.log("upload complete!"),P(!1),v()}})))))}function re(e){return(0,x.Z)(e),te(a.Fragment,null,te(ae,null),te(b.Z,null))}var oe=a.createElement,le=(0,u.Z)((function(e){return{container:{marginBottom:e.spacing(3),padding:e.spacing(3)}}}));function ue(){var e=(0,p.v$)(),n=(0,i.Z)(e,2),t=(n[0],n[1],le()),u=(0,s.Z)();(0,d.Z)(u.breakpoints.up("md"));return oe(a.Fragment,null,oe(l.y,{title:"Settings - Green Toolkit 2"}),oe(r.Z,{hideSidebar:!0,disableHover:!0,title:oe(o.Z,{variant:"h4",component:"h1"},"Green Toolkit")},oe(c.Z,{className:t.container},oe(k,{title:"Settings",settings:[{tabTitle:"Admin",title:"Site Configuration Settings",content:oe(re,null)},{tabTitle:"Account",title:"User Account & Profile Settings",content:oe(a.Fragment,null,"\ud83c\udfc4\u200d\u2642\ufe0f\ud83d\udc68\u200d\ud83d\ude80\ud83d\udc69\u200d\ud83d\ude80\ud83c\udfc4\u200d\u2642\ufe0f")}]}))))}},6944:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return t(1729)}])}},function(e){e.O(0,[774,158,296,19,967,177,60,464,651,491,930,894,440,888,179],(function(){return n=6944,e(e.s=n);var n}));var n=e.O();_N_E=n}]);