(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[153],{4697:function(e,t,n){"use strict";var a=n(2122),o=n(2949),i=n(7294),r=(n(5697),n(6010)),l=n(4670),c=n(2318),s=i.forwardRef((function(e,t){var n=e.action,l=e.avatar,s=e.classes,d=e.className,u=e.component,p=void 0===u?"div":u,g=e.disableTypography,m=void 0!==g&&g,v=e.subheader,f=e.subheaderTypographyProps,h=e.title,Z=e.titleTypographyProps,b=(0,o.Z)(e,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),y=h;null==y||y.type===c.Z||m||(y=i.createElement(c.Z,(0,a.Z)({variant:l?"body2":"h5",className:s.title,component:"span",display:"block"},Z),y));var k=v;return null==k||k.type===c.Z||m||(k=i.createElement(c.Z,(0,a.Z)({variant:l?"body2":"body1",className:s.subheader,color:"textSecondary",component:"span",display:"block"},f),k)),i.createElement(p,(0,a.Z)({className:(0,r.Z)(s.root,d),ref:t},b),l&&i.createElement("div",{className:s.avatar},l),i.createElement("div",{className:s.content},y,k),n&&i.createElement("div",{className:s.action},n))}));t.Z=(0,l.Z)({root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},{name:"MuiCardHeader"})(s)},6846:function(e,t,n){"use strict";var a=n(5318),o=n(862);t.Z=void 0;var i=o(n(7294)),r=(0,a(n(2108)).default)(i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"ClearOutlined");t.Z=r},5166:function(e,t,n){"use strict";var a=n(5318),o=n(862);t.Z=void 0;var i=o(n(7294)),r=(0,a(n(2108)).default)(i.createElement("path",{d:"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");t.Z=r},9969:function(e,t,n){"use strict";var a=n(5318),o=n(862);t.Z=void 0;var i=o(n(7294)),r=(0,a(n(2108)).default)(i.createElement("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");t.Z=r},1117:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var a=n(6265),o=n(7294),i=n(1120),r=n(1749),l=n(282),c=n(2283),s=n(5166),d=n(6846),u=n(5477),p=n(8302),g=(0,n(3786).Z)(o.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline"),m=o.createElement,v=(0,i.Z)((function(e){return{}})),f=function(e){var t=e.onEdit,n=e.onCancel,a=e.onDelete,i=e.onSave,r=e.editing,c=e.submitting,f=v();return m(o.Fragment,null,c&&m(u.Z,{size:30}),!r&&!c&&m("div",{className:f.blockButton},m(l.Z,{color:"primary",variant:"outlined",onClick:t},m(s.Z,null))),r&&!c&&m(o.Fragment,null,n&&m("div",{className:f.blockButton},m(l.Z,{variant:"outlined",onClick:function(e){e.preventDefault(),n&&n()}},m(d.Z,null))),i&&m("div",{className:f.blockButton},m(l.Z,{type:"submit",variant:"outlined",onClick:function(e){e.preventDefault(),i&&i()}},m(p.Z,null))),a&&m("div",{className:f.blockButton},m(l.Z,{type:"submit",variant:"outlined",onClick:function(e){e.preventDefault(),a&&a()}},m(g,null)))))},h=n(9090),Z=n(4179),b=o.createElement,y=(0,i.Z)((function(e){return{stickyickyicky:(0,a.Z)({position:"sticky",top:"75px"},e.breakpoints.up("md"),{top:"75px"}),submitButton:{marginTop:e.spacing(3),marginBottom:e.spacing(3),textTransform:"none",textDecoration:"none",padding:"14px 29px",borderRadius:13,background:"linear-gradient(45deg, #009fe0 5%, #009fe0 90%)"}}}));function k(e){var t=e.sections,n=e.title,a=e.subtitle,i=e.onEdit,s=e.onSubmit,d=e.onCancel,u=e.onDelete,p=e.submitting,g=e.forceEdit,m=e.initializeSave,v=e.hideControls,k=e.submitText,x=y(),C=(0,c.cI)(),j=C.handleSubmit,S=C.register,N=C.control,T=C.errors,E=C.unregister,w=C.watch,R=C.setValue,D=(0,o.useState)(!1),P=D[0],B=D[1];g&&!P&&B(!0);var z=j((function(e){console.log(e),s&&s(e)}));return(0,o.useEffect)((function(){m&&j(s)()}),[m]),b("form",null,t&&b(o.Fragment,null,n&&b(Z.Z,{variant:"h1",className:x.sectionHeader},n),a&&b(Z.Z,{variant:"h6",className:x.headerComment},a),b(r.Z,{container:!0,spacing:0},b(r.Z,{item:!0,container:!0,xs:12},Object.keys(t).map((function(e){var n=t[e];return b(h.Z,{key:e,title:n.name||e,editing:P,errors:T,register:S,unregister:E,watch:w,setValue:R,control:N,fields:n.fields})}))),!v&&b(r.Z,{item:!0,xs:1,className:x.stickyickyicky,style:{height:"1em"}},b(f,{onEdit:g?null:function(){i&&i(),B(!0)},onCancel:g?null:function(){d&&d(),B(!1)},onDelete:u,editing:P,submitting:p,onSave:z})),k&&b(l.Z,{onClick:z,color:"secondary",variant:"contained",disableElevation:!0,size:"large",className:x.submitButton},k||"Submit"))))}},1884:function(e,t,n){"use strict";n.d(t,{P:function(){return g}});var a=n(7294),o=n(4670),i=n(1120),r=n(9525),l=n(2663),c=(n(4179),n(2208),n(5597),n(9988)),s=n(8671),d=a.createElement,u=(0,o.Z)((function(e){return{root:{padding:e.spacing(2),overflow:"visible"}}}))(r.Z),p=(0,i.Z)((function(e){var t=function(e){return e.palette.background.paper}(e);return{messageBox:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3),marginTop:e.spacing(3),paddingTop:e.spacing(3),background:t,backgroundClip:"padding-box",paddingBottom:e.spacing(2),borderRadius:"10px 10px 0px 0px",color:e.palette.getContrastText(e.palette.background.paper)},countLabel:{verticalAlign:"middle",color:e.palette.getContrastText(e.palette.background.paper)},countBox:{position:"sticky",top:"64px",width:"100%",zIndex:101,background:t,backgroundClip:"padding-box",marginTop:e.spacing(3),marginBottom:e.spacing(3)},labelIcon:{verticalAlign:"middle"},warningColor:{color:e.palette.warning.main},disabledColor:{color:e.palette.action.disabled},contentRoot:{textAlign:"center"}}}));function g(e){var t=e.open,n=e.onCancelled,a=e.title,o=void 0===a?"Append To Dataset":a,i=p();return d(l.Z,{onClose:n,"aria-label":"pre-filter-dialog",open:t},d(c.$N,{id:"customized-dialog-title",onClose:n},o),d(u,{className:i.contentRoot},d(s.r,null)))}},9053:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var a=n(4121),o=n(7294),i=n(1120),r=n(2280),l=n(4077),c=n(4710),s=o.createElement,d=(0,i.Z)((function(e){return{root:{height:380,transform:"translateZ(0px)",flexGrow:1},speedDial:{alignItems:"flex-end",position:"fixed",bottom:e.spacing(3),right:e.spacing(3)}}})),u=(0,i.Z)((function(e){return{staticTooltipLabel:{whiteSpace:"nowrap"}}}));function p(e){var t=e.actions,n=d(),i=u(),p=o.useState(!1),g=(0,a.Z)(p,2),m=g[0],v=g[1],f=o.useState(!1),h=(0,a.Z)(f,2),Z=h[0];h[1];return s(r.Z,{ariaLabel:"SpeedDial tooltip example",className:n.speedDial,hidden:Z,icon:s(l.Z,null),onClose:function(){v(!1)},onOpen:function(){v(!0)},open:m},t.map((function(e){return s(c.Z,{key:e.key||e.name,icon:e.icon,tooltipTitle:e.name,tooltipOpen:!0,onClick:e.onClick,classes:i})})))}},7653:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Y}});var a=n(809),o=n.n(a),i=n(2447),r=n(4121),l=n(7294),c=n(1163),s=n(1630),d=n(9772),u=n(7095),p=n(1120),g=n(1749),m=n(8463),v=n(9738),f=n(4697),h=n(3832),Z=n(7812),b=n(7655),y=n(3637),k=n(5639),x=n(4179),C=n(5308),j=n(1117),S=n(9612),N=n(1664);l.createElement,(0,p.Z)((function(e){return{root:function(e){var t={maxWidth:e.maxWidth,borderRadius:9};return t},custom:{borderRadius:9},cardMedia:{borderRadius:9},cardHeader:{fontWeight:400,marginTop:0,marginBottom:0},cardAction:{},cardContent:{alignContent:"center",alignSelf:"center"},cardRoot:{flexGrow:1},avatar:{marginBottom:e.spacing(2),objectFit:"cover",backgroundColor:"rgba(0,255,0,0.1)",padding:e.spacing(3),height:65,width:65},avatarText:{marginLeft:e.spacing(2)},pre:{backgroundColor:e.palette.dlg.green}}}));var T=n(6252),E=n(2663),w=n(6856),R=n(9525),D=n(6083),P=n(282),B=n(8065),z=n(2236),I=n(8365),F=n(9969),L=n(1146),_=n(3901),H=n(9450),A=n(6782),O=n(9053),W=n(1884),M=l.createElement;function q(e){e.projectID;var t=(0,l.useState)(!1),n=t[0],a=t[1],o=(0,c.useRouter)(),i=o.query.projectId;return M(l.Fragment,null,M(O.Z,{actions:[{name:"Create Predesign Dataset",icon:M(H.Z,null),onClick:function(){o.push("/projects/".concat(i,"/datasets/predesign"))}},{name:"Upload Dataset",icon:M(A.Z,null),onClick:function(){n||a(!0)}}]}),M(W.P,{open:n,onCancelled:function(){n&&a(!1)},title:"Upload Dataset"}))}var V=n(4689),U=n(664),G=n(3758),X=l.createElement,J=(0,p.Z)((function(e){return{loader:{maxHeight:"50vh"},cardRoot:{border:"none",boxShadow:"none",borderRadius:9},dialogActions:{padding:e.spacing(3)},containerRoot:{backgroundColor:e.palette.background.default,padding:e.spacing(4),minHeight:"90vh",height:"90vh",flexGrow:1},footer:{height:100,marginTop:-50},paperRoot:{padding:e.spacing(3)},projectImageWrapper:{},heroButton:{textTransform:"none",textDecoration:"none",padding:"9px 17px",borderRadius:13},projectImage:{objectFit:"cover",width:e.spacing(13),height:e.spacing(13),borderRadius:9},header:{margin:0,display:"block"},avatar:{padding:e.spacing(4),borderRadius:9,backgroundColor:"#F2F2F2"},icon:{color:e.palette.dlg.green,fontSize:30},avatarTextMain:{marginLeft:e.spacing(1),display:"block"},avatarText:{marginLeft:e.spacing(1),fontWeight:200,display:"block"},gridRoot:{marginTop:e.spacing(4)}}}));function $(e){var t=e.project,n=e.newProject,a=e.deleteProject,o=e.projectInProgress,i=e.onSubmit,r=e.hideControls,l=e.initializeSave;return X(j.Z,{title:"",subtitle:"",forceEdit:!0,onDelete:n?null:a,onSubmit:function(e){return i(e,{image:!0})},submitting:o,hideControls:r,initializeSave:l,sections:{"":{fields:{projectNumber:{name:"Project Number",value:t.projectNumber,description:"Unique alphanumeric project number",required:!0},projectName:{name:"Project Name",value:t.projectName,description:"The human readable moniker for this project.",editOnly:!0,required:!0},projectDescriptionShort:{name:"One Line Description",value:t.projectDescriptionShort,editOnly:!0,required:!1,paragraph:!0,description:"Tell us a bit about this project."},studioLocation:{name:"Studio Location",value:t.studioLocation,description:"The DIALOG studio that this project is based out of (can be found in BST).",required:!0,select:[{value:"",key:"Select Studio"},{value:"Vancouver",key:"Vancouver"},{value:"Calgary",key:"Calgary"},{value:"Edmonton",key:"Edmonton"},{value:"Toronto",key:"Toronto"},{value:"San Francisco",key:"San Francisco"}]},image:{name:"Hero Image",image:!0,value:t.image,descrption:"The Hero Image for your project that will be displayed in the background."}}}}})}var K=function(e){var t=e.height,n=e.width;return X(I.Z,{variant:"rect",width:n||"100%",height:t,style:{marginBotton:10,borderRadius:9}})},Q=function(e){var t=e.projectId,n=(0,S.L)(t),a=(0,r.Z)(n,3),o=a[0],i=(a[1],a[2],(0,p.Z)((function(e){return{gridRoot:{},avatar:{padding:e.spacing(4),borderRadius:9,backgroundColor:"#F2F2F2"},icon:{color:e.palette.dlg.green,fontSize:30},cardRoot:{border:"none",boxShadow:"none",borderRadius:9,width:"100%",marginBottom:e.spacing(2)},divider:{height:e.spacing(2)}}}))()),c=null===o||void 0===o?void 0:o.filter((function(e){return e.typeId===V.qW.predesign})),s=null===o||void 0===o?void 0:o.filter((function(e){return e.typeId===V.qW.earlyStage}));return X(g.Z,{container:!0,alignItems:"flex-start",justify:"flex-start",className:i.gridRoot},X(l.Fragment,null,X(g.Z,{item:!0,xs:12},X(x.Z,{variant:"h3",gutterBottom:!0},"Predesign"),c&&0===c.length&&X(x.Z,{variant:"body2",gutterBottom:!0},"No Pre-Design datasets have been created for this project.")),X(g.Z,{item:!0,xs:12,container:!0,spacing:3},c&&c.map((function(e,n){return X(g.Z,{item:!0},X(N.default,{href:"/projects/".concat(t,"/datasets/").concat(e._id)},X(m.Z,{className:i.cardRoot,variant:"outlined"},X(v.Z,null,X(f.Z,{avatar:X(_.Z,{variant:"rounded",className:i.avatar},X(H.Z,{className:i.icon})),title:X(x.Z,{variant:"h5",style:{fontWeight:300},display:"inline"},e.name),subheader:X(x.Z,{style:{fontWeight:200,lineHeight:1.66},variant:"body1",display:"block"},e.savedFilterSets.length," filter sets, Last updated ",new Date(e.updatedAt).toUTCString())})))))})))),X("div",{className:i.divider}),X(l.Fragment,null,X(g.Z,{item:!0,xs:12},X(x.Z,{variant:"h3",gutterBottom:!0},"Early Stage"),s&&0===s.length&&X(x.Z,{variant:"body2",gutterBottom:!0},"No Early Stage datasets have been created for this project.")),X(g.Z,{item:!0,xs:12,container:!0,spacing:3},s&&s.map((function(e,n){return X(g.Z,{item:!0},X(N.default,{href:"/projects/".concat(t,"/datasets/").concat(e._id)},X(m.Z,{className:i.cardRoot,variant:"outlined"},X(v.Z,null,X(f.Z,{avatar:X(_.Z,{variant:"rounded",className:i.avatar},X(A.Z,{className:i.icon})),title:X(x.Z,{variant:"h5",style:{fontWeight:300},display:"inline"},e.name),subheader:X(x.Z,{style:{fontWeight:200,lineHeight:1.66},variant:"body1",display:"block"},e.savedFilterSets.length," filter sets, Last updated ",new Date(e.updatedAt).toUTCString())})))))})))))},Y=function(){var e,t=(0,c.useRouter)().query.projectId,n=(0,u.P)(t),a=(0,r.Z)(n,8),p=a[0],m=a[1],v=(a[2],a[3]),f=a[4],j=(a[5],a[6],a[7],l.useState(!1)),S=(0,r.Z)(j,2),N=S[0],I=S[1],_=l.useState(!1),H=(0,r.Z)(_,2),A=H[0],O=H[1],W=l.useState(!1),M=(0,r.Z)(W,2),V=M[0],Y=M[1],ee=function(){I(!1)},te=function(e){O(e)},ne=l.useState(!0),ae=(0,r.Z)(ne,2),oe=(ae[0],ae[1],l.useState(null)),ie=(0,r.Z)(oe,2),re=ie[0],le=ie[1],ce=Boolean(re),se=function(){le(null)},de=J({imgUrl:!v&&null!==p&&void 0!==p&&null!==(e=p.image)&&void 0!==e&&e.url?p.image.url:"/img/StackedWave2.svg"});function ue(){return(ue=(0,i.Z)(o().mark((function e(t,n){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,te(!1),a=(0,B.Z)(t,n),e.next=5,(0,T.JB)(null,null===p||void 0===p?void 0:p._id,a);case 5:e.sent,location.reload(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return X(l.Fragment,null,X(s.y,{title:"Project Home - Green Toolkit"}),X(d.Z,null,X(h.Z,{fixed:!0,className:de.containerRoot},!m&&p&&X(g.Z,{container:!0,spacing:2,alignItems:"flex-start",justify:"flex-start"},X(g.Z,{item:!0,lg:10,xs:10},m&&X("div",{style:{display:"flex"}},X("div",{style:{flex:"0 0 auto",marginRight:16}},X(K,{height:100,width:100})),X("div",{style:{flex:"1 1 auto"}},X("div",{style:{marginBottom:10}},X(K,{height:40})),X("div",null,X(K,{height:30})))),!m&&p&&p.image&&X("div",{style:{display:"flex"}},X("div",{style:{flex:"0 0 auto",marginRight:16}},X(U.Z,{src:p.image.url,className:de.projectImage})),X("div",{style:{flex:"1 1 auto"}},X(x.Z,{variant:"h2",style:{marginBottom:0,marginTop:0}},p.projectName),X(x.Z,{variant:"body2"},p.projectDescriptionShort)))),X(g.Z,{container:!0,item:!0,lg:2,xs:2,direction:"row-reverse"},X(Z.Z,{"aria-controls":"fade-menu","aria-haspopup":"true",className:de.margin,onClick:function(e){return le(e.currentTarget)}},X(L.Z,null)),X(b.Z,{id:"fade-menu",anchorEl:re,keepMounted:!0,open:ce,onClose:se,TransitionComponent:y.Z},X(k.Z,{onClick:function(){Y(!0),se()}},X(C.Z,{style:{marginRight:12}}),"Delete Project"),X(k.Z,{onClick:function(){I(!0),se()}},X(F.Z,{style:{marginRight:12}}),"Edit Project")))),!m&&p&&X(g.Z,{container:!0,spacing:2,style:{marginTop:25}},X(g.Z,{item:!0,xs:12},X(x.Z,{variant:"body2"},"Project datasets can be added through our custom upload wizard or configured from a database of Pre-Design options.")),X(g.Z,{item:!0,lg:12,xs:12},X(Q,{projectId:t}))),!m&&!p&&X(g.Z,{container:!0},X(g.Z,{item:!0,xs:12},X(x.Z,{variant:"h3",style:{marginBottom:0}},"Project removed"),X(x.Z,{variant:"body1"},"Click ",X(z.Z,{color:"secondary",href:"/projects",underline:"none"},"here")," to head back to the project index page"))),!m&&p&&X(q,null)),X(E.Z,{open:V,onClose:function(e){return Y(!1)},"aria-labelledby":"form-dialog-title"},X(D.Z,{id:"form-dialog-title"},"Delete Project"),X(R.Z,null,X(x.Z,{variant:"body2"},"Are you sure you want to delete this project?")),X(w.Z,{className:de.dialogActions},X(G.j,{onClick:function(){return f(),void Y(!1)},variant:"contained",autoFocus:!0,disableElevation:!0,color:"warning",size:"large"},"Confirm"),X(P.Z,{variant:"contained",size:"large",onClick:function(e){return Y(!1)},disableElevation:!0},"Cancel"))),X(E.Z,{open:N,onClose:ee,"aria-labelledby":"form-dialog-title"},X(D.Z,{id:"form-dialog-title"},"Project Settings"),X(R.Z,null,!v&&p&&X($,{project:p,newProject:v,deleteProject:f,projectInProgress:m,onSubmit:function(e,t){return ue.apply(this,arguments)},hideControls:!0,initializeSave:A})),X(w.Z,{className:de.dialogActions},X(P.Z,{variant:"contained",size:"large",onClick:function(){return te(!0)},color:"primary",disableElevation:!0},"Save Changes"),X(P.Z,{variant:"contained",size:"large",onClick:ee,disableElevation:!0},"Cancel")))))}},9909:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects/[projectId]",function(){return n(7653)}])}},function(e){e.O(0,[774,158,19,967,177,15,711,491,81,894,772,888,179],(function(){return t=9909,e(e.s=t);var t}));var t=e.O();_N_E=t}]);