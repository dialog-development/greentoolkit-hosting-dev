(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[689],{6846:function(e,t,r){"use strict";var n=r(5318),o=r(862);t.Z=void 0;var i=o(r(7294)),a=(0,n(r(2108)).default)(i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"ClearOutlined");t.Z=a},5166:function(e,t,r){"use strict";var n=r(5318),o=r(862);t.Z=void 0;var i=o(r(7294)),a=(0,n(r(2108)).default)(i.createElement("path",{d:"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");t.Z=a},1117:function(e,t,r){"use strict";r.d(t,{Z:function(){return Z}});var n=r(6265),o=r(7294),i=r(1120),a=r(1749),c=r(282),s=r(2283),u=r(5166),l=r(6846),d=r(5477),p=r(8302),f=(0,r(3786).Z)(o.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline"),m=o.createElement,g=(0,i.Z)((function(e){return{}})),v=function(e){var t=e.onEdit,r=e.onCancel,n=e.onDelete,i=e.onSave,a=e.editing,s=e.submitting,v=g();return m(o.Fragment,null,s&&m(d.Z,{size:30}),!a&&!s&&m("div",{className:v.blockButton},m(c.Z,{color:"primary",variant:"outlined",onClick:t},m(u.Z,null))),a&&!s&&m(o.Fragment,null,r&&m("div",{className:v.blockButton},m(c.Z,{variant:"outlined",onClick:function(e){e.preventDefault(),r&&r()}},m(l.Z,null))),i&&m("div",{className:v.blockButton},m(c.Z,{type:"submit",variant:"outlined",onClick:function(e){e.preventDefault(),i&&i()}},m(p.Z,null))),n&&m("div",{className:v.blockButton},m(c.Z,{type:"submit",variant:"outlined",onClick:function(e){e.preventDefault(),n&&n()}},m(f,null)))))},h=r(9090),b=r(4179),y=o.createElement,j=(0,i.Z)((function(e){return{stickyickyicky:(0,n.Z)({position:"sticky",top:"75px"},e.breakpoints.up("md"),{top:"75px"}),submitButton:{marginTop:e.spacing(3),marginBottom:e.spacing(3),textTransform:"none",textDecoration:"none",padding:"14px 29px",borderRadius:13,background:"linear-gradient(45deg, #009fe0 5%, #009fe0 90%)"}}}));function Z(e){var t=e.sections,r=e.title,n=e.subtitle,i=e.onEdit,u=e.onSubmit,l=e.onCancel,d=e.onDelete,p=e.submitting,f=e.forceEdit,m=e.initializeSave,g=e.hideControls,Z=e.submitText,P=j(),k=(0,s.cI)(),w=k.handleSubmit,O=k.register,x=k.control,E=k.errors,N=k.unregister,S=k.watch,C=k.setValue,T=(0,o.useState)(!1),D=T[0],_=T[1];f&&!D&&_(!0);var L=w((function(e){console.log(e),u&&u(e)}));return(0,o.useEffect)((function(){m&&w(u)()}),[m]),y("form",null,t&&y(o.Fragment,null,r&&y(b.Z,{variant:"h1",className:P.sectionHeader},r),n&&y(b.Z,{variant:"h6",className:P.headerComment},n),y(a.Z,{container:!0,spacing:0},y(a.Z,{item:!0,container:!0,xs:12},Object.keys(t).map((function(e){var r=t[e];return y(h.Z,{key:e,title:r.name||e,editing:D,errors:E,register:O,unregister:N,watch:S,setValue:C,control:x,fields:r.fields})}))),!g&&y(a.Z,{item:!0,xs:1,className:P.stickyickyicky,style:{height:"1em"}},y(v,{onEdit:f?null:function(){i&&i(),_(!0)},onCancel:f?null:function(){l&&l(),_(!1)},onDelete:d,editing:D,submitting:p,onSave:L})),Z&&y(c.Z,{onClick:L,color:"secondary",variant:"contained",disableElevation:!0,size:"large",className:P.submitButton},Z||"Submit"))))}},2794:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(1229),o=r(8347),i=r(7294),a=r(1120),c=r(5477),s=r(6010),u=r(4179),l=i.createElement,d=(0,a.Z)((function(e){return{main:{padding:"5rem 0",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:e.palette.background.paper,height:"100vh"}}}));function p(e){var t=e.className,r=e.message,a=(0,o.Z)(e,["className","message"]),p=d();return l(i.Fragment,null,l("div",(0,n.Z)({className:(0,s.Z)(p.main,t)},a),l(u.Z,{variant:"h3"},r),l(c.Z,null)))}},5426:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(7294),o=r(7229),i=n.createElement;function a(e){var t=e.projectListInProgress,r=e.projectList,n=e.value,a=e.drawerToggle;return i(o.Z,{levels:{Page:{loading:!1,value:"Projects",options:[{Projects:{text:"Projects",img:null,href:"/projects"}}]},Projects:{loading:t,value:n,valueField:"_id",textField:"projectName",imgField:"image.url",getHref:function(e){return"/projects/"+e._id},options:[r,{AllProjects:{_id:"projects",projectName:"View All Projects",avatarText:">",href:"/projects",showDivider:!0}},{CreateProject:{_id:"new",projectName:"Create Project",avatarText:"+",href:"/projects/new"}}]}},drawerToggle:a})}},3027:function(e,t,r){"use strict";r.d(t,{L:function(){return v}});var n=r(809),o=r.n(n),i=r(6265),a=r(2447),c=r(4121),s=r(7294),u=r(2804),l=r(8364),d=r(6252);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={response:!1,inProgress:!1,error:!1},g=(0,u.cn)({key:"projectListAtom",default:m});function v(e){var t=(0,u.FV)(g),r=(0,c.Z)(t,2),n=r[0],i=r[1],p=(0,l.dQ)(),v=(0,c.Z)(p,3),h=v[0];v[1],v[2];(0,s.useEffect)((function(){e&&i(m)}),[]),(0,s.useEffect)((function(){!h||n.response||n.error||n.inProgress||function(){var e=(0,a.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(f(f({},n),{},{inProgress:!0})),e.next=4,(0,d.eK)(h);case 4:t=e.sent,i({response:t,inProgress:!1}),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("useProject error"),console.error(e.t0),i({error:e.t0,inProgress:!1});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[h,n]);return[n.response,n.inProgress,n.error,function(){i(m)}]}},8952:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return z}});var n=r(4121),o=r(7294),i=r(1163),a=r(1630),c=r(4321),s=r(1120),u=r(3832),l=r(1749),d=r(9895),p=r(3027),f=r(4179),m=r(809),g=r.n(m),v=r(6265),h=r(2447),b=r(616),y=r(282),j=(r(2804),r(8364)),Z=r(6252),P=r(8065);function k(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,v.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E={response:!1,inProgress:!1,error:!1,currentProject:{},ready:!1};var N=r(1117),S=(r(2794),r(4264),o.createElement),C=(0,s.Z)((function(e){return{submitButton:{marginTop:e.spacing(3),marginBottom:e.spacing(3),width:"100%",textTransform:"none",textDecoration:"none",padding:"14px 29px",borderRadius:13,background:"linear-gradient(45deg, #009fe0 5%, #009fe0 90%)"}}}));function T(e){var t;(0,b.Z)(e);var r=function(){var e=(0,o.useState)(E),t=e[0],r=e[1],i=(0,j.dQ)(),a=(0,n.Z)(i,3),c=a[0];return a[1],a[2],(0,o.useEffect)((function(){!c||!t.ready||t.response&&t.response._id===projectId||t.error||t.inProgress||function(){var e=(0,h.Z)(g().mark((function e(){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(x(x({},t),{},{inProgress:!0})),e.next=4,(0,Z.CW)(c,t.currentProject);case 4:if((n=e.sent)._id){e.next=7;break}throw Error("response didn't contain identifier");case 7:r({currentProject:t.currentProject,response:n,inProgress:!1,ready:!1}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("useProject error"),console.error(e.t0),r({currentProject:t.currentProject,error:e.t0,inProgress:!1,ready:!1});case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()()}),[c,t]),[t.currentProject,function(e){console.info("submitting new proj"),console.log(e);var n=(0,P.Z)(e,{image:!0});console.log(n);var o,i=k(n.entries());try{for(i.s();!(o=i.n()).done;){var a=o.value;console.log(a[0]+", "+a[1])}}catch(c){i.e(c)}finally{i.f()}r(x(x({},t),{},{currentProject:n,ready:!0}))},t.response,t.inProgress,t.error,function(){r(E)}]}(),a=(0,n.Z)(r,5),c=a[0],s=a[1],u=a[2],l=a[3],d=a[4],p=o.useState(!1),f=(0,n.Z)(p,2),m=f[0],w=f[1],O=(0,i.useRouter)();if(u){var T="/projects/"+u._id;console.log("routing to: "+T),O.push(T)}var D=C();function _(){return(_=(0,h.Z)(g().mark((function e(t){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log(t),s(t),u&&(r="/projects/"+u._id,console.log("routing to: "+r),O.push(r))}catch(n){console.error(n)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return S(o.Fragment,null,d&&""+d,S(N.Z,(t={forceEdit:!0,onSubmit:s,submitting:l,hideControls:!0},(0,v.Z)(t,"onSubmit",(function(e){return _.apply(this,arguments)})),(0,v.Z)(t,"initializeSave",m),(0,v.Z)(t,"sections",{"":{fields:{projectNumber:{name:"Project Number",value:c.projectNumber,description:"Unique alphanumeric project number",required:!0,paragraph:!0},projectName:{name:"Project Name",value:c.projectName,description:"The human readable moniker for this project.",editOnly:!0,required:!0,paragraph:!0},projectDescriptionShort:{name:"One Line Description",value:c.projectDescriptionShort,editOnly:!0,required:!1,description:"Tell us a little bit about this project.",paragraph:!0},studioLocation:{name:"Studio Location",value:c.studioLocation,description:"The DIALOG studio that this project is based out of (can be found in BST).",required:!0,paragraph:!0,select:[{value:"",key:"Select Studio"},{value:"Vancouver",key:"Vancouver"},{value:"Calgary",key:"Calgary"},{value:"Edmonton",key:"Edmonton"},{value:"Toronto",key:"Toronto"},{value:"San Francisco",key:"San Francisco"}]},image:{name:"Hero Image",image:!0,value:c.image,descrption:"The Hero Image for your project that will be displayed in the background."}}}}),t)),S(y.Z,{onClick:function(){w(!0)},color:"secondary",variant:"contained",disableElevation:!0,size:"large",className:D.submitButton},"Submit"))}var D=r(5426),_=r(9681),L=r(8920),B=r(3457),H=o.createElement,I=(0,s.Z)((function(e){return{loader:{maxHeight:"50vh"},hero:function(t){var r=t.imgUrl,n=t.darkThemeActive,o={backgroundColor:e.palette.background.default};return r&&!n&&(o.background="url("+r+") 50%/cover repeat fixed"),o.padding=e.spacing(4),o},headerPlus:{fontWeight:700,fontSize:"4.125rem",marginBottom:0,marginTop:e.spacing(1),lineHeight:1.05},headerLead:{lineHeight:1.5,color:e.palette.dlg.green},cardRoot:{backgroundColor:e.palette.background.paper,padding:e.spacing(4),borderRadius:9},imageWrapper:{display:"block",width:"100%",paddingTop:75},containerRoot:{minHeight:"70vh"},container:{padding:e.spacing(4)},formHeader:{marginBottom:0,marginTop:40}}})),z=function(){var e=(0,p.L)(!0),t=(0,n.Z)(e,4),r=t[0],i=t[1],s=(t[2],t[3],(0,_.v$)()),m=(0,n.Z)(s,2),g=m[0],v=(m[1],(0,L.Z)()),h=(0,B.Z)(v.breakpoints.up("md")),b=I({darkThemeActive:g});return H(o.Fragment,null,H(a.y,{title:"New Project - Green Toolkit 2"}),H(c.Z,{hideSidebar:!0,disableHover:!0,title:H(D.Z,{projectList:r,projectListInProgress:i,value:"new"})},H("section",{className:b.hero},H(u.Z,{maxWidth:!1},H(l.Z,{container:!0,direction:"row",alignItems:"flex-start",justifyContent:"flex-start",className:b.header},H(l.Z,{item:!0,container:!0,md:5,xs:12},H(l.Z,{item:!0,container:!0,xs:12},H(f.Z,{variant:"overline",className:b.headerLead},"Better Insights into Building Performance")),H(l.Z,{item:!0,container:!0,xs:12},H(f.Z,{variant:"h1",className:h?b.headerPlus:b.headerMiddle},"Start a New Project")),H(l.Z,{item:!0,container:!0,xs:12},H(f.Z,{variant:"h4",className:b.subHeader},"Let's start by telling us a little bit about this project."))),H(l.Z,{item:!0,container:!0,md:1,xs:12}),H(l.Z,{item:!0,container:!0,md:4,xs:12},H(d.Z,{variant:"outlined",className:b.cardRoot},H(T,null))))))))}},2362:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects/new",function(){return r(8952)}])}},function(e){e.O(0,[158,19,967,177,491,930,774,888,179],(function(){return t=2362,e(e.s=t);var t}));var t=e.O();_N_E=t}]);