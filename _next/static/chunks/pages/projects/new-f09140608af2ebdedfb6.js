(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[689],{36846:function(e,t,r){"use strict";var n=r(95318),o=r(20862);t.Z=void 0;var i=o(r(67294)),a=(0,n(r(2108)).default)(i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"ClearOutlined");t.Z=a},65166:function(e,t,r){"use strict";var n=r(95318),o=r(20862);t.Z=void 0;var i=o(r(67294)),a=(0,n(r(2108)).default)(i.createElement("path",{d:"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");t.Z=a},13088:function(e,t,r){"use strict";var n=r(67294),o=r(63786);t.Z=(0,o.Z)(n.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},15556:function(e,t,r){"use strict";r.d(t,{Z:function(){return k}});var n=r(26265),o=r(67294),i=r(41120),a=r(41749),c=r(282),u=r(42283),s=r(65166),l=r(36846),d=r(95477),m=r(48302),p=r(13088),f=o.createElement,g=(0,i.Z)((function(e){return{}})),v=function(e){var t=e.onEdit,r=e.onCancel,n=e.onDelete,i=e.onSave,a=e.editing,u=e.submitting,v=g();return f(o.Fragment,null,u&&f(d.Z,{size:30}),!a&&!u&&f("div",{className:v.blockButton},f(c.Z,{color:"primary",variant:"outlined",onClick:t},f(s.Z,null))),a&&!u&&f(o.Fragment,null,r&&f("div",{className:v.blockButton},f(c.Z,{variant:"outlined",onClick:function(e){e.preventDefault(),r&&r()}},f(l.Z,null))),i&&f("div",{className:v.blockButton},f(c.Z,{type:"submit",variant:"outlined",onClick:function(e){e.preventDefault(),i&&i()}},f(m.Z,null))),n&&f("div",{className:v.blockButton},f(c.Z,{type:"submit",variant:"outlined",onClick:function(e){e.preventDefault(),n&&n()}},f(p.Z,null)))))},h=r(69090),b=r(94179),y=o.createElement,Z=(0,i.Z)((function(e){return{stickyickyicky:(0,n.Z)({position:"sticky",top:"75px"},e.breakpoints.up("md"),{top:"75px"}),submitButton:{marginTop:e.spacing(3),marginBottom:e.spacing(3),textTransform:"none",textDecoration:"none",padding:"14px 29px",borderRadius:13,background:"linear-gradient(45deg, #009fe0 5%, #009fe0 90%)"}}}));function k(e){var t=e.sections,r=e.title,n=e.subtitle,i=e.onEdit,s=e.onSubmit,l=e.onCancel,d=e.onDelete,m=e.submitting,p=e.forceEdit,f=e.initializeSave,g=e.hideControls,k=e.submitText,j=Z(),w=(0,u.cI)(),x=w.handleSubmit,P=w.register,S=w.control,N=w.errors,E=w.unregister,O=w.watch,C=w.setValue,T=(0,o.useState)(!1),D=T[0],_=T[1];p&&!D&&_(!0);var B=x((function(e){console.log(e),s&&s(e)}));return(0,o.useEffect)((function(){f&&x(s)()}),[f]),y("form",null,t&&y(o.Fragment,null,r&&y(b.Z,{variant:"h1",className:j.sectionHeader},r),n&&y(b.Z,{variant:"h6",className:j.headerComment},n),y(a.Z,{container:!0,spacing:0},y(a.Z,{item:!0,container:!0,xs:12},Object.keys(t).map((function(e){var r=t[e];return y(h.Z,{key:e,title:r.name||e,editing:D,errors:N,register:P,unregister:E,watch:O,setValue:C,control:S,fields:r.fields})}))),!g&&y(a.Z,{item:!0,xs:1,className:j.stickyickyicky,style:{height:"1em"}},y(v,{onEdit:p?null:function(){i&&i(),_(!0)},onCancel:p?null:function(){l&&l(),_(!1)},onDelete:d,editing:D,submitting:m,onSave:B})),k&&y(c.Z,{onClick:B,color:"secondary",variant:"contained",disableElevation:!0,size:"large",className:j.submitButton},k||"Submit"))))}},62794:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(91229),o=r(38347),i=r(67294),a=r(41120),c=r(95477),u=r(86010),s=r(94179),l=i.createElement,d=(0,a.Z)((function(e){return{main:{padding:"5rem 0",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:e.palette.background.paper,height:"100vh"}}}));function m(e){var t=e.className,r=e.message,a=(0,o.Z)(e,["className","message"]),m=d();return l(i.Fragment,null,l("div",(0,n.Z)({className:(0,u.Z)(m.main,t)},a),l(s.Z,{variant:"h3"},r),l(c.Z,null)))}},28952:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return I}});var n=r(64121),o=r(67294),i=r(11163),a=r(1630),c=r(44321),u=r(41120),s=r(43832),l=r(41749),d=r(79895),m=r(83027),p=r(94179),f=r(809),g=r.n(f),v=r(26265),h=r(92447),b=r(40616),y=r(282),Z=(r(2804),r(58364)),k=r(25639),j=r(18065);function w(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,v.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N={response:!1,inProgress:!1,error:!1,currentProject:{},ready:!1};var E=r(15556),O=(r(62794),r(54264),o.createElement),C=(0,u.Z)((function(e){return{submitButton:{marginTop:e.spacing(3),marginBottom:e.spacing(3),width:"100%",textTransform:"none",textDecoration:"none",padding:"14px 29px",borderRadius:13,background:"linear-gradient(45deg, #009fe0 5%, #009fe0 90%)"}}}));function T(e){var t;(0,b.Z)(e);var r=function(){var e=(0,o.useState)(N),t=e[0],r=e[1],i=(0,Z.dQ)(),a=(0,n.Z)(i,3),c=a[0];return a[1],a[2],(0,o.useEffect)((function(){!c||!t.ready||t.response&&t.response._id===projectId||t.error||t.inProgress||function(){var e=(0,h.Z)(g().mark((function e(){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(S(S({},t),{},{inProgress:!0})),e.next=4,(0,k.CW)(c,t.currentProject);case 4:if((n=e.sent)._id){e.next=7;break}throw Error("response didn't contain identifier");case 7:r({currentProject:t.currentProject,response:n,inProgress:!1,ready:!1}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("useProject error"),console.error(e.t0),r({currentProject:t.currentProject,error:e.t0,inProgress:!1,ready:!1});case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()()}),[c,t]),[t.currentProject,function(e){console.info("submitting new proj"),console.log(e);var n=(0,j.Z)(e,{image:!0});console.log(n);var o,i=w(n.entries());try{for(i.s();!(o=i.n()).done;){var a=o.value;console.log(a[0]+", "+a[1])}}catch(c){i.e(c)}finally{i.f()}r(S(S({},t),{},{currentProject:n,ready:!0}))},t.response,t.inProgress,t.error,function(){r(N)}]}(),a=(0,n.Z)(r,5),c=a[0],u=a[1],s=a[2],l=a[3],d=a[4],m=o.useState(!1),p=(0,n.Z)(m,2),f=p[0],x=p[1],P=(0,i.useRouter)();if(s){var T="/projects/"+s._id;console.log("routing to: "+T),P.push(T)}var D=C();function _(){return(_=(0,h.Z)(g().mark((function e(t){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log(t),u(t),s&&(r="/projects/"+s._id,console.log("routing to: "+r),P.push(r))}catch(n){console.error(n)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return O(o.Fragment,null,d&&""+d,O(E.Z,(t={forceEdit:!0,onSubmit:u,submitting:l,hideControls:!0},(0,v.Z)(t,"onSubmit",(function(e){return _.apply(this,arguments)})),(0,v.Z)(t,"initializeSave",f),(0,v.Z)(t,"sections",{"":{fields:{projectNumber:{name:"Project Number",value:c.projectNumber,description:"Unique alphanumeric project number",required:!0,paragraph:!0},projectName:{name:"Project Name",value:c.projectName,description:"The human readable moniker for this project.",editOnly:!0,required:!0,paragraph:!0},projectDescriptionShort:{name:"One Line Description",value:c.projectDescriptionShort,editOnly:!0,required:!1,description:"Tell us a little bit about this project.",paragraph:!0},studioLocation:{name:"Studio Location",value:c.studioLocation,description:"The DIALOG studio that this project is based out of (can be found in BST).",required:!0,paragraph:!0,select:[{value:"",key:"Select Studio"},{value:"Vancouver",key:"Vancouver"},{value:"Calgary",key:"Calgary"},{value:"Edmonton",key:"Edmonton"},{value:"Toronto",key:"Toronto"},{value:"San Francisco",key:"San Francisco"}]},image:{name:"Hero Image",image:!0,value:c.image,descrption:"The Hero Image for your project that will be displayed in the background."}}}}),t)),O(y.Z,{onClick:function(){x(!0)},color:"secondary",variant:"contained",disableElevation:!0,size:"large",className:D.submitButton},"Submit"))}var D=r(85426),_=r(29681),B=r(8920),L=r(63457),H=o.createElement,z=(0,u.Z)((function(e){return{loader:{maxHeight:"50vh"},hero:function(t){var r=t.imgUrl,n=t.darkThemeActive,o={backgroundColor:e.palette.background.default};return r&&!n&&(o.background="url("+r+") 50%/cover repeat fixed"),o.padding=e.spacing(4),o},headerPlus:{fontWeight:700,fontSize:"4.125rem",marginBottom:0,marginTop:e.spacing(1),lineHeight:1.05},headerLead:{lineHeight:1.5,color:e.palette.dlg.green},cardRoot:{backgroundColor:e.palette.background.paper,padding:e.spacing(4),borderRadius:9},imageWrapper:{display:"block",width:"100%",paddingTop:75},containerRoot:{minHeight:"70vh"},container:{padding:e.spacing(4)},formHeader:{marginBottom:0,marginTop:40}}})),I=function(){var e=(0,m.L)(!0),t=(0,n.Z)(e,4),r=t[0],i=t[1],u=(t[2],t[3],(0,_.v$)()),f=(0,n.Z)(u,2),g=f[0],v=(f[1],(0,B.Z)()),h=(0,L.Z)(v.breakpoints.up("md")),b=z({darkThemeActive:g});return H(o.Fragment,null,H(a.y,{title:"New Project - Green Toolkit 2"}),H(c.Z,{hideSidebar:!0,disableHover:!0,title:H(D.Z,{projectList:r,projectListInProgress:i,value:"new"})},H("section",{className:b.hero},H(s.Z,{maxWidth:!1},H(l.Z,{container:!0,direction:"row",alignItems:"flex-start",justify:"flex-start",className:b.header},H(l.Z,{item:!0,container:!0,md:5,xs:12},H(l.Z,{item:!0,container:!0,xs:12},H(p.Z,{variant:"overline",className:b.headerLead},"Better Insights into Building Performance")),H(l.Z,{item:!0,container:!0,xs:12},H(p.Z,{variant:"h1",className:h?b.headerPlus:b.headerMiddle},"Start a New Project")),H(l.Z,{item:!0,container:!0,xs:12},H(p.Z,{variant:"h4",className:b.subHeader},"Let's start by telling us a little bit about this project."))),H(l.Z,{item:!0,container:!0,md:1,xs:12}),H(l.Z,{item:!0,container:!0,md:4,xs:12},H(d.Z,{variant:"outlined",className:b.cardRoot},H(T,null))))))))}},12362:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects/new",function(){return r(28952)}])}},function(e){e.O(0,[158,19,967,177,491,27,444,774,888,179],(function(){return t=12362,e(e.s=t);var t}));var t=e.O();_N_E=t}]);