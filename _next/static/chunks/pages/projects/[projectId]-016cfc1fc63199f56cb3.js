(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[153],{4697:function(e,t,n){"use strict";var a=n(2122),o=n(2949),i=n(7294),r=(n(5697),n(6010)),l=n(4670),c=n(2318),s=i.forwardRef((function(e,t){var n=e.action,l=e.avatar,s=e.classes,d=e.className,u=e.component,p=void 0===u?"div":u,g=e.disableTypography,m=void 0!==g&&g,f=e.subheader,v=e.subheaderTypographyProps,h=e.title,Z=e.titleTypographyProps,b=(0,o.Z)(e,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),y=h;null==y||y.type===c.Z||m||(y=i.createElement(c.Z,(0,a.Z)({variant:l?"body2":"h5",className:s.title,component:"span",display:"block"},Z),y));var k=f;return null==k||k.type===c.Z||m||(k=i.createElement(c.Z,(0,a.Z)({variant:l?"body2":"body1",className:s.subheader,color:"textSecondary",component:"span",display:"block"},v),k)),i.createElement(p,(0,a.Z)({className:(0,r.Z)(s.root,d),ref:t},b),l&&i.createElement("div",{className:s.avatar},l),i.createElement("div",{className:s.content},y,k),n&&i.createElement("div",{className:s.action},n))}));t.Z=(0,l.Z)({root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},{name:"MuiCardHeader"})(s)},7342:function(e,t,n){"use strict";var a=n(5318),o=n(862);t.Z=void 0;var i=o(n(7294)),r=(0,a(n(2108)).default)(i.createElement(i.Fragment,null,i.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),i.createElement("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})),"AccessTime");t.Z=r},6846:function(e,t,n){"use strict";var a=n(5318),o=n(862);t.Z=void 0;var i=o(n(7294)),r=(0,a(n(2108)).default)(i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"ClearOutlined");t.Z=r},5166:function(e,t,n){"use strict";var a=n(5318),o=n(862);t.Z=void 0;var i=o(n(7294)),r=(0,a(n(2108)).default)(i.createElement("path",{d:"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");t.Z=r},9969:function(e,t,n){"use strict";var a=n(5318),o=n(862);t.Z=void 0;var i=o(n(7294)),r=(0,a(n(2108)).default)(i.createElement("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");t.Z=r},1117:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var a=n(6265),o=n(7294),i=n(1120),r=n(1749),l=n(282),c=n(2283),s=n(5166),d=n(6846),u=n(5477),p=n(8302),g=(0,n(3786).Z)(o.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline"),m=o.createElement,f=(0,i.Z)((function(e){return{}})),v=function(e){var t=e.onEdit,n=e.onCancel,a=e.onDelete,i=e.onSave,r=e.editing,c=e.submitting,v=f();return m(o.Fragment,null,c&&m(u.Z,{size:30}),!r&&!c&&m("div",{className:v.blockButton},m(l.Z,{color:"primary",variant:"outlined",onClick:t},m(s.Z,null))),r&&!c&&m(o.Fragment,null,n&&m("div",{className:v.blockButton},m(l.Z,{variant:"outlined",onClick:function(e){e.preventDefault(),n&&n()}},m(d.Z,null))),i&&m("div",{className:v.blockButton},m(l.Z,{type:"submit",variant:"outlined",onClick:function(e){e.preventDefault(),i&&i()}},m(p.Z,null))),a&&m("div",{className:v.blockButton},m(l.Z,{type:"submit",variant:"outlined",onClick:function(e){e.preventDefault(),a&&a()}},m(g,null)))))},h=n(9090),Z=n(4179),b=o.createElement,y=(0,i.Z)((function(e){return{stickyickyicky:(0,a.Z)({position:"sticky",top:"75px"},e.breakpoints.up("md"),{top:"75px"}),submitButton:{marginTop:e.spacing(3),marginBottom:e.spacing(3),textTransform:"none",textDecoration:"none",padding:"14px 29px",borderRadius:13,background:"linear-gradient(45deg, #009fe0 5%, #009fe0 90%)"}}}));function k(e){var t=e.sections,n=e.title,a=e.subtitle,i=e.onEdit,s=e.onSubmit,d=e.onCancel,u=e.onDelete,p=e.submitting,g=e.forceEdit,m=e.initializeSave,f=e.hideControls,k=e.submitText,x=y(),C=(0,c.cI)(),j=C.handleSubmit,S=C.register,E=C.control,N=C.errors,T=C.unregister,w=C.watch,R=C.setValue,I=(0,o.useState)(!1),B=I[0],D=I[1];g&&!B&&D(!0);var z=j((function(e){console.log(e),s&&s(e)}));return(0,o.useEffect)((function(){m&&j(s)()}),[m]),b("form",null,t&&b(o.Fragment,null,n&&b(Z.Z,{variant:"h1",className:x.sectionHeader},n),a&&b(Z.Z,{variant:"h6",className:x.headerComment},a),b(r.Z,{container:!0,spacing:0},b(r.Z,{item:!0,container:!0,xs:12},Object.keys(t).map((function(e){var n=t[e];return b(h.Z,{key:e,title:n.name||e,editing:B,errors:N,register:S,unregister:T,watch:w,setValue:R,control:E,fields:n.fields})}))),!f&&b(r.Z,{item:!0,xs:1,className:x.stickyickyicky,style:{height:"1em"}},b(v,{onEdit:g?null:function(){i&&i(),D(!0)},onCancel:g?null:function(){d&&d(),D(!1)},onDelete:u,editing:B,submitting:p,onSave:z})),k&&b(l.Z,{onClick:z,color:"secondary",variant:"contained",disableElevation:!0,size:"large",className:x.submitButton},k||"Submit"))))}},1884:function(e,t,n){"use strict";n.d(t,{P:function(){return g}});var a=n(7294),o=n(4670),i=n(1120),r=n(9525),l=n(2663),c=(n(4179),n(2208),n(5597),n(9988)),s=n(8622),d=a.createElement,u=(0,o.Z)((function(e){return{root:{padding:e.spacing(2),overflow:"visible"}}}))(r.Z),p=(0,i.Z)((function(e){var t=function(e){return e.palette.background.paper}(e);return{messageBox:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3),marginTop:e.spacing(3),paddingTop:e.spacing(3),background:t,backgroundClip:"padding-box",paddingBottom:e.spacing(2),borderRadius:"10px 10px 0px 0px",color:e.palette.getContrastText(e.palette.background.paper)},countLabel:{verticalAlign:"middle",color:e.palette.getContrastText(e.palette.background.paper)},countBox:{position:"sticky",top:"64px",width:"100%",zIndex:101,background:t,backgroundClip:"padding-box",marginTop:e.spacing(3),marginBottom:e.spacing(3)},labelIcon:{verticalAlign:"middle"},warningColor:{color:e.palette.warning.main},disabledColor:{color:e.palette.action.disabled},contentRoot:{textAlign:"center"}}}));function g(e){var t=e.open,n=e.onCancelled,a=e.title,o=void 0===a?"Append To Dataset":a,i=p();return d(l.Z,{onClose:n,"aria-label":"pre-filter-dialog",open:t},d(c.$N,{id:"customized-dialog-title",onClose:n},o),d(u,{className:i.contentRoot},d(s.r,null)))}},9053:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var a=n(4121),o=n(7294),i=n(1120),r=n(2280),l=n(4077),c=n(4710),s=o.createElement,d=(0,i.Z)((function(e){return{root:{height:380,transform:"translateZ(0px)",flexGrow:1},speedDial:{alignItems:"flex-end",position:"fixed",bottom:e.spacing(3),right:e.spacing(3)}}})),u=(0,i.Z)((function(e){return{staticTooltipLabel:{whiteSpace:"nowrap"}}}));function p(e){var t=e.actions,n=d(),i=u(),p=o.useState(!1),g=(0,a.Z)(p,2),m=g[0],f=g[1],v=o.useState(!1),h=(0,a.Z)(v,2),Z=h[0];h[1];return s(r.Z,{ariaLabel:"SpeedDial tooltip example",className:n.speedDial,hidden:Z,icon:s(l.Z,null),onClose:function(){f(!1)},onOpen:function(){f(!0)},open:m},t.map((function(e){return s(c.Z,{key:e.key||e.name,icon:e.icon,tooltipTitle:e.name,tooltipOpen:!0,onClick:e.onClick,classes:i})})))}},7653:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ne}});var a=n(809),o=n.n(a),i=n(2447),r=n(9999),l=n(4121),c=n(7294),s=n(1163),d=n(1630),u=n(9772),p=n(7095),g=n(1120),m=n(8463),f=n(9738),v=n(4697),h=n(9912),Z=n(1907),b=n(1749),y=n(3832),k=n(7812),x=n(7655),C=n(3637),j=n(5639),S=n(4179),E=n(5308),N=n(1117),T=n(9612),w=n(1664);c.createElement,(0,g.Z)((function(e){return{root:function(e){var t={maxWidth:e.maxWidth,borderRadius:9};return t},custom:{borderRadius:9},cardMedia:{borderRadius:9},cardHeader:{fontWeight:400,marginTop:0,marginBottom:0},cardAction:{},cardContent:{alignContent:"center",alignSelf:"center"},cardRoot:{flexGrow:1},avatar:{marginBottom:e.spacing(2),objectFit:"cover",backgroundColor:"rgba(0,255,0,0.1)",padding:e.spacing(3),height:65,width:65},avatarText:{marginLeft:e.spacing(2)},pre:{backgroundColor:e.palette.dlg.green}}}));var R=n(6252),I=n(2663),B=n(6856),D=n(9525),z=n(6083),P=n(282),L=n(8065),F=n(2236),A=n(8365),M=n(9969),H=n(1146),O=n(7342),_=n(7202),W=n(9450),q=n(6782),G=n(9053),V=n(1884),U=c.createElement;function X(e){e.projectID;var t=(0,c.useState)(!1),n=t[0],a=t[1],o=(0,s.useRouter)(),i=o.query.projectId;return U(c.Fragment,null,U(G.Z,{actions:[{name:"Create Predesign Dataset",icon:U(W.Z,null),onClick:function(){o.push("/app?projectId=".concat(i,"&datasetId=predesign"))}},{name:"Upload Dataset",icon:U(q.Z,null),onClick:function(){n||a(!0)}}]}),U(V.P,{open:n,onCancelled:function(){n&&a(!1)},title:"Upload Dataset"}))}var J=n(4689),Y=(n(664),n(3758)),$=c.createElement,K=(0,g.Z)((function(e){return{loader:{maxHeight:"50vh"},cardRoot:{border:"none",boxShadow:"none",borderRadius:9,minWidth:275},dialogActions:{padding:e.spacing(3)},containerRoot:{backgroundColor:e.palette.background.default,padding:e.spacing(4),minHeight:"100vh",flexGrow:1},footer:{height:100,marginTop:-50},paperRoot:{padding:e.spacing(3)},projectImageWrapper:{},heroButton:{textTransform:"none",textDecoration:"none",padding:"9px 17px",borderRadius:13},projectImage:{objectFit:"cover",width:e.spacing(9),height:e.spacing(9),borderRadius:9},header:{margin:0,display:"block"},avatar:{padding:e.spacing(4),borderRadius:9,backgroundColor:"#F2F2F2"},icon:{color:e.palette.dlg.green,fontSize:30},avatarTextMain:{marginLeft:e.spacing(1),display:"block"},avatarText:{marginLeft:e.spacing(1),fontWeight:200,display:"block"},gridRoot:{marginTop:e.spacing(4)}}}));function Q(e){var t=e.project,n=e.newProject,a=e.deleteProject,o=e.projectInProgress,i=e.onSubmit,r=e.hideControls,l=e.initializeSave;return $(N.Z,{title:"",subtitle:"",forceEdit:!0,onDelete:n?null:a,onSubmit:function(e){return i(e,{image:!0})},submitting:o,hideControls:r,initializeSave:l,sections:{"":{fields:{projectNumber:{name:"Project Number",value:t.projectNumber,description:"Unique alphanumeric project number",required:!0},projectName:{name:"Project Name",value:t.projectName,description:"The human readable moniker for this project.",editOnly:!0,required:!0},projectDescriptionShort:{name:"One Line Description",value:t.projectDescriptionShort,editOnly:!0,required:!1,paragraph:!0,description:"Tell us a bit about this project."},studioLocation:{name:"Studio Location",value:t.studioLocation,description:"The DIALOG studio that this project is based out of (can be found in BST).",required:!0,select:[{value:"",key:"Select Studio"},{value:"Vancouver",key:"Vancouver"},{value:"Calgary",key:"Calgary"},{value:"Edmonton",key:"Edmonton"},{value:"Toronto",key:"Toronto"},{value:"San Francisco",key:"San Francisco"}]},image:{name:"Hero Image",image:!0,value:t.image,descrption:"The Hero Image for your project that will be displayed in the background."}}}}})}var ee=function(e){var t=e.height,n=e.width;return $(A.Z,{variant:"rect",width:n||"100%",height:t,style:{marginBotton:10,borderRadius:9}})},te=function(e){var t=e.projectId,n=(0,T.L)(t),a=(0,l.Z)(n,3),o=a[0],i=a[1],s=(a[2],(0,g.Z)((function(e){return{gridRoot:{},avatar:{padding:e.spacing(4),borderRadius:9,backgroundColor:"#F2F2F2"},icon:{fontSize:45},cardRoot:{border:"none",boxShadow:"none",borderRadius:9,width:"100%",marginBottom:e.spacing(2)},divider:{height:e.spacing(2)}}}))()),d=null===o||void 0===o?void 0:o.filter((function(e){return e.typeId===J.qW.predesign})),u=null===o||void 0===o?void 0:o.filter((function(e){return e.typeId===J.qW.earlyStage})),p=function(e){var n=e.item;return $(w.default,{href:"/app?projectId=".concat(t,"&datasetId=").concat(n._id)},$(m.Z,{className:s.cardRoot,variant:"outlined",sx:{maxWidth:345}},$(f.Z,null,$(v.Z,{style:{paddingLeft:10},avatar:$(c.Fragment,null,"predesign"===n.typeId&&$(W.Z,{className:s.icon,color:"secondary"}),"es"===n.typeId&&$(q.Z,{className:s.icon,color:"secondary"}))}),$(h.Z,{style:{minHeight:75,padding:0,paddingLeft:16,paddingRight:16}},$(S.Z,{variant:"body2"},n.name)),$(Z.Z,{style:{padding:16}},$("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",marginTop:0}},$(_.Z,{fontSize:"small"}),$(S.Z,{variant:"body2"},"\xa0",n.bookmarks.length)),$("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",marginTop:0,marginLeft:"auto"}},$(O.Z,{fontSize:"small"}),$(S.Z,{variant:"body2"},"\xa0",function(e){var t=new Date(e);return t?"".concat(t.getDay(),"-").concat(t.getMonth(),"-").concat(t.getFullYear()):""}(n.updatedAt)))))))};return $(b.Z,{container:!0,alignItems:"flex-start",justifyContent:"flex-start",className:s.gridRoot},$(c.Fragment,null,$(b.Z,{item:!0,xs:12},$(S.Z,{variant:"h3",gutterBottom:!0,style:{marginBottom:0}},"Predesign"),$(S.Z,{variant:"body2",gutterBottom:!0,style:{marginBottom:16}},"Perform a pre-design parametric analysis based on DIALOG's pre-configured repository of characteristic building shapes."),d&&0===d.length&&$(S.Z,{variant:"body2",gutterBottom:!0},"No Pre-Design datasets have been created for this project.")),$(b.Z,{item:!0,xs:12,container:!0,spacing:3},i&&(0,r.Z)(Array(3)).map((function(e,t){return $(b.Z,{item:!0,xs:6,sm:6,md:3,lg:3,key:t},$(ee,{width:"100%",height:200}))})),d&&d.map((function(e,t){return $(b.Z,{item:!0,xs:6,sm:6,md:3,lg:3,key:t},$(p,{item:e}))})))),$("div",{className:s.divider}),$(c.Fragment,null,$(b.Z,{item:!0,xs:12},$(S.Z,{variant:"h3",gutterBottom:!0,style:{marginBottom:0}},"Early Stage"),$(S.Z,{variant:"body2",gutterBottom:!0,style:{marginBottom:16}},"Early stage analysis dataset's can be uploaded and visualized here.   Please refer to DIALOG's list of performance analysis Grasshopper templates for parametric dataset creation."),u&&0===u.length&&$(S.Z,{variant:"body2",gutterBottom:!0},"No Early Stage datasets have been created for this project.")),$(b.Z,{item:!0,xs:12,container:!0,spacing:3},i&&(0,r.Z)(Array(6)).map((function(e,t){return $(b.Z,{item:!0,xs:6,sm:6,md:3,lg:3,key:t},$(ee,{width:"100%",height:200}))})),u&&u.map((function(e,t){return $(b.Z,{item:!0,xs:6,sm:6,md:3,lg:3,key:t},$(p,{item:e}))})))))},ne=function(){var e,t=(0,s.useRouter)().query.projectId,n=(0,p.P)(t),a=(0,l.Z)(n,8),r=a[0],g=a[1],m=(a[2],a[3]),f=a[4],v=(a[5],a[6],a[7],c.useState(!1)),h=(0,l.Z)(v,2),Z=h[0],N=h[1],T=c.useState(!1),w=(0,l.Z)(T,2),A=w[0],O=w[1],_=c.useState(!1),W=(0,l.Z)(_,2),q=W[0],G=W[1],V=function(){N(!1)},U=function(e){O(e)},J=c.useState(!0),ee=(0,l.Z)(J,2),ne=(ee[0],ee[1],c.useState(null)),ae=(0,l.Z)(ne,2),oe=ae[0],ie=ae[1],re=Boolean(oe),le=function(){ie(null)},ce=K({imgUrl:!m&&null!==r&&void 0!==r&&null!==(e=r.image)&&void 0!==e&&e.url?r.image.url:"/img/StackedWave2.svg"});function se(){return(se=(0,i.Z)(o().mark((function e(t,n){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,U(!1),a=(0,L.Z)(t,n),e.next=5,(0,R.JB)(null,null===r||void 0===r?void 0:r._id,a);case 5:e.sent,location.reload(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return $(c.Fragment,null,$(d.y,{title:"Project Home - Green Toolkit"}),$(u.Z,null,$(y.Z,{fixed:!0,className:ce.containerRoot},!g&&r&&$(b.Z,{container:!0,spacing:2,alignItems:"flex-start",justifyContent:"flex-start"},$(b.Z,{item:!0,lg:8,xs:10},$(te,{projectId:t})),$(b.Z,{container:!0,item:!0,lg:4,xs:2,direction:"row-reverse"},$(k.Z,{"aria-controls":"fade-menu","aria-haspopup":"true",className:ce.margin,onClick:function(e){return ie(e.currentTarget)}},$(H.Z,null)),$(x.Z,{id:"fade-menu",anchorEl:oe,keepMounted:!0,open:re,onClose:le,TransitionComponent:C.Z},$(j.Z,{onClick:function(){G(!0),le()}},$(E.Z,{style:{marginRight:12}}),"Delete Project"),$(j.Z,{onClick:function(){N(!0),le()}},$(M.Z,{style:{marginRight:12}}),"Edit Project")))),!g&&!r&&$(b.Z,{container:!0},$(b.Z,{item:!0,xs:12},$(S.Z,{variant:"h3",style:{marginBottom:0}},"Project removed"),$(S.Z,{variant:"body1"},"Click ",$(F.Z,{color:"secondary",href:"/projects",underline:"none"},"here")," to head back to the project index page"))),!g&&r&&$(X,null)),$(I.Z,{open:q,onClose:function(e){return G(!1)},"aria-labelledby":"form-dialog-title"},$(z.Z,{id:"form-dialog-title"},"Delete Project"),$(D.Z,null,$(S.Z,{variant:"body2"},"Are you sure you want to delete this project?")),$(B.Z,{className:ce.dialogActions},$(Y.j,{onClick:function(){return f(),void G(!1)},variant:"contained",autoFocus:!0,disableElevation:!0,color:"warning",size:"large"},"Confirm"),$(P.Z,{variant:"contained",size:"large",onClick:function(e){return G(!1)},disableElevation:!0},"Cancel"))),$(I.Z,{open:Z,onClose:V,"aria-labelledby":"form-dialog-title"},$(z.Z,{id:"form-dialog-title"},"Project Settings"),$(D.Z,null,!m&&r&&$(Q,{project:r,newProject:m,deleteProject:f,projectInProgress:g,onSubmit:function(e,t){return se.apply(this,arguments)},hideControls:!0,initializeSave:A})),$(B.Z,{className:ce.dialogActions},$(P.Z,{variant:"contained",size:"large",onClick:function(){return U(!0)},color:"primary",disableElevation:!0},"Save Changes"),$(P.Z,{variant:"contained",size:"large",onClick:V,disableElevation:!0},"Cancel")))))}},9909:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects/[projectId]",function(){return n(7653)}])}},function(e){e.O(0,[774,158,19,967,177,708,711,491,81,894,772,888,179],(function(){return t=9909,e(e.s=t);var t}));var t=e.O();_N_E=t}]);