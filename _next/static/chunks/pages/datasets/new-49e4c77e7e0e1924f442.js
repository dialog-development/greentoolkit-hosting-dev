(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39],{4697:function(e,t,a){"use strict";var n=a(2122),r=a(2949),i=a(7294),o=(a(5697),a(6010)),l=a(4670),s=a(2318),c=i.forwardRef((function(e,t){var a=e.action,l=e.avatar,c=e.classes,u=e.className,d=e.component,m=void 0===d?"div":d,p=e.disableTypography,g=void 0!==p&&p,f=e.subheader,v=e.subheaderTypographyProps,h=e.title,Z=e.titleTypographyProps,b=(0,r.Z)(e,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),y=h;null==y||y.type===s.Z||g||(y=i.createElement(s.Z,(0,n.Z)({variant:l?"body2":"h5",className:c.title,component:"span",display:"block"},Z),y));var k=f;return null==k||k.type===s.Z||g||(k=i.createElement(s.Z,(0,n.Z)({variant:l?"body2":"body1",className:c.subheader,color:"textSecondary",component:"span",display:"block"},v),k)),i.createElement(m,(0,n.Z)({className:(0,o.Z)(c.root,u),ref:t},b),l&&i.createElement("div",{className:c.avatar},l),i.createElement("div",{className:c.content},y,k),a&&i.createElement("div",{className:c.action},a))}));t.Z=(0,l.Z)({root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},{name:"MuiCardHeader"})(c)},6846:function(e,t,a){"use strict";var n=a(5318),r=a(862);t.Z=void 0;var i=r(a(7294)),o=(0,n(a(2108)).default)(i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"ClearOutlined");t.Z=o},5166:function(e,t,a){"use strict";var n=a(5318),r=a(862);t.Z=void 0;var i=r(a(7294)),o=(0,n(a(2108)).default)(i.createElement("path",{d:"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");t.Z=o},1117:function(e,t,a){"use strict";a.d(t,{Z:function(){return k}});var n=a(6265),r=a(7294),i=a(1120),o=a(1749),l=a(282),s=a(2283),c=a(5166),u=a(6846),d=a(5477),m=a(8302),p=(0,a(3786).Z)(r.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline"),g=r.createElement,f=(0,i.Z)((function(e){return{}})),v=function(e){var t=e.onEdit,a=e.onCancel,n=e.onDelete,i=e.onSave,o=e.editing,s=e.submitting,v=f();return g(r.Fragment,null,s&&g(d.Z,{size:30}),!o&&!s&&g("div",{className:v.blockButton},g(l.Z,{color:"primary",variant:"outlined",onClick:t},g(c.Z,null))),o&&!s&&g(r.Fragment,null,a&&g("div",{className:v.blockButton},g(l.Z,{variant:"outlined",onClick:function(e){e.preventDefault(),a&&a()}},g(u.Z,null))),i&&g("div",{className:v.blockButton},g(l.Z,{type:"submit",variant:"outlined",onClick:function(e){e.preventDefault(),i&&i()}},g(m.Z,null))),n&&g("div",{className:v.blockButton},g(l.Z,{type:"submit",variant:"outlined",onClick:function(e){e.preventDefault(),n&&n()}},g(p,null)))))},h=a(9090),Z=a(4179),b=r.createElement,y=(0,i.Z)((function(e){return{stickyickyicky:(0,n.Z)({position:"sticky",top:"75px"},e.breakpoints.up("md"),{top:"75px"}),submitButton:{marginTop:e.spacing(3),marginBottom:e.spacing(3),textTransform:"none",textDecoration:"none",padding:"14px 29px",borderRadius:13,background:"linear-gradient(45deg, #009fe0 5%, #009fe0 90%)"}}}));function k(e){var t=e.sections,a=e.title,n=e.subtitle,i=e.onEdit,c=e.onSubmit,u=e.onCancel,d=e.onDelete,m=e.submitting,p=e.forceEdit,g=e.initializeSave,f=e.hideControls,k=e.submitText,x=y(),N=(0,s.cI)(),j=N.handleSubmit,w=N.register,E=N.control,T=N.errors,P=N.unregister,C=N.watch,D=N.setValue,B=(0,r.useState)(!1),S=B[0],_=B[1];p&&!S&&_(!0);var H=j((function(e){console.log(e),c&&c(e)}));return(0,r.useEffect)((function(){g&&j(c)()}),[g]),b("form",null,t&&b(r.Fragment,null,a&&b(Z.Z,{variant:"h1",className:x.sectionHeader},a),n&&b(Z.Z,{variant:"h6",className:x.headerComment},n),b(o.Z,{container:!0,spacing:0},b(o.Z,{item:!0,container:!0,xs:12},Object.keys(t).map((function(e){var a=t[e];return b(h.Z,{key:e,title:a.name||e,editing:S,errors:T,register:w,unregister:P,watch:C,setValue:D,control:E,fields:a.fields})}))),!f&&b(o.Z,{item:!0,xs:1,className:x.stickyickyicky,style:{height:"1em"}},b(v,{onEdit:p?null:function(){i&&i(),_(!0)},onCancel:p?null:function(){u&&u(),_(!1)},onDelete:d,editing:S,submitting:m,onSave:H})),k&&b(l.Z,{onClick:H,color:"secondary",variant:"contained",disableElevation:!0,size:"large",className:x.submitButton},k||"Submit"))))}},5426:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var n=a(7294),r=a(7229),i=n.createElement;function o(e){var t=e.projectListInProgress,a=e.projectList,n=e.value,o=e.drawerToggle;return i(r.Z,{levels:{Page:{loading:!1,value:"Projects",options:[{Projects:{text:"Projects",img:null,href:"/projects"}}]},Projects:{loading:t,value:n,valueField:"_id",textField:"projectName",imgField:"image.url",getHref:function(e){return"/projects/"+e._id},options:[a,{AllProjects:{_id:"projects",projectName:"View All Projects",avatarText:">",href:"/projects",showDivider:!0}},{CreateProject:{_id:"new",projectName:"Create Project",avatarText:"+",href:"/projects/new"}}]}},drawerToggle:o})}},4572:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var n=a(4121),r=a(7294),i=a(1163),o=a(1630),l=a(4321),s=a(1120),c=a(3832),u=a(1749),d=a(9895),m=a(282),p=a(5477),g=a(8463),f=a(4697),v=a(9912),h=a(3027),Z=a(4179),b=a(5426),y=a(9681),k=a(8920),x=a(3457);a(1117),r.createElement,(0,s.Z)((function(e){return{cardRoot:{backgroundColor:e.palette.background.paper,paddingLeft:e.spacing(4),paddingRight:e.spacing(0),paddingBottom:e.spacing(3)}}}));var N=a(5869),j=a(2283),w=a(9090),E=r.createElement,T=(0,s.Z)((function(e){return{loader:{maxHeight:"50vh"},hero:function(t){var a=t.imgUrl,n=t.darkThemeActive,r={backgroundColor:e.palette.background.default};return a&&!n&&(r.background="url("+a+") 50%/cover repeat fixed"),r.padding=e.spacing(4),r},headerPlus:{fontWeight:700,fontSize:"4.125rem",marginBottom:0,marginTop:e.spacing(1),lineHeight:1.05},headerLead:{lineHeight:1.5,color:e.palette.dlg.green},cardRoot:{backgroundColor:e.palette.background.paper,padding:e.spacing(4),borderRadius:9},imageWrapper:{display:"block",width:"100%",paddingTop:75},containerRoot:{minHeight:"70vh"},container:{padding:e.spacing(4)},formHeader:{marginBottom:0,marginTop:40},submitButton:{marginTop:e.spacing(3),marginBottom:e.spacing(3),textTransform:"none",textDecoration:"none",padding:"14px 29px",borderRadius:13,color:e.palette.common.white}}})),P=function(){var e=(0,h.L)(!0),t=(0,n.Z)(e,4),a=t[0],s=t[1],P=(t[2],t[3],(0,y.v$)()),C=(0,n.Z)(P,2),D=C[0],B=(C[1],(0,k.Z)()),S=(0,x.Z)(B.breakpoints.up("md")),_=(0,i.useRouter)().query.projectId,H=T({imgUrl:"/img/Valley-10s-1404px.svg",darkThemeActive:D}),R=(0,N.g)(),z=(0,n.Z)(R,10),L=z[0],I=(z[1],z[2]),V=z[3],F=z[4],O=z[5],M=z[6],U=z[7],A=(z[8],z[9]),q=(0,j.cI)(),W=q.handleSubmit,X=q.register,G=q.control,$=q.errors,J=q.unregister,K=q.watch,Q=q.setValue;return E(r.Fragment,null,E(o.y,{title:"Dataset Upload - Green Toolkit 2"}),E(l.Z,{hideSidebar:!0,disableHover:!0,title:E(b.Z,{projectList:a,projectListInProgress:s,value:a?_:""})},E("section",{className:H.hero},E(c.Z,{maxWidth:!1},E(u.Z,{container:!0,direction:"row",alignItems:"flex-start",justify:"center",spacing:4},E(u.Z,{item:!0,container:!0,direction:"row",alignItems:"flex-start",justify:"flex-start",className:H.header},E(u.Z,{item:!0,container:!0,md:5,xs:12},E(u.Z,{item:!0,container:!0,xs:12},E(Z.Z,{variant:"overline",className:H.headerLead},"Better Insights into Building Performance")),E(u.Z,{item:!0,container:!0,xs:12},E(Z.Z,{variant:"h1",className:S?H.headerPlus:H.headerMiddle},"Upload Data")),E(u.Z,{item:!0,container:!0,xs:12},E(Z.Z,{variant:"h4",className:H.subHeader},"Upload a custom data set. For more info on how to generate a compatible dataset click here."))),E(u.Z,{item:!0,container:!0,md:1,xs:12}),E(u.Z,{item:!0,container:!0,md:6,xs:12},E(d.Z,{variant:"outlined",className:H.cardRoot},E(w.Z,{editing:!0,register:X,control:G,errors:$,unregister:J,setValue:Q,watch:K,fields:{name:{name:"Dataset Name",value:L.projectName,description:"The human readable moniker for this dataset.",editOnly:!0,paragraph:!0,required:!0},descriptionShort:{name:"One Line Description",value:L.projectDescriptionShort,editOnly:!0,required:!1,paragraph:!0},dataset:{name:"Dataset",file:{multiple:!0,userPrompt:"Drag and drop your dataset files here (or click to use the system file browser)."},value:L.files,descrption:"Please select the dataset files (xlsx & images) that will be used with this dataset."}}}),E(u.Z,{container:!0,justify:"center",alignItems:"center",direction:"column"},O&&E(u.Z,{item:!0},E(Z.Z,{variant:"overline"},O+"")),E(u.Z,{item:!0},E(m.Z,{onClick:W(I),color:"secondary",variant:"contained",disableElevation:!0,size:"large",className:H.submitButton},V?E(p.Z,null):"Analyze")))))),F&&E(u.Z,{item:!0,xs:12,md:10},E(g.Z,null,E(f.Z,{title:"Field Specification",subheader:"Define how each column in your dataset should be treated."}),E(v.Z,null,F.fields&&E(w.Z,{editing:!0,register:X,control:G,errors:$,unregister:J,setValue:Q,watch:K,fields:F.fields.map((function(e){return{key:N.S+e.name,name:e.name,required:!0,paragraph:!0,value:e.type,select:[{key:"Number",value:"number"},{key:"Text",value:"text"},{key:"File Reference",value:"fileReference"}]}}))}),E(u.Z,{container:!0,justify:"center",alignItems:"center",direction:"column"},A&&E(u.Z,{item:!0},E(Z.Z,{variant:"overline"},A+"")),E(u.Z,{item:!0},E(m.Z,{onClick:W((function(e){return M(e,_)})),color:"primary",variant:"contained",disableElevation:!0,size:"large",className:H.submitButton},U?E(p.Z,null):"Upload!")))))),F&&E(u.Z,{item:!0,xs:12})))),E("section",null)))}},6575:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/datasets/new",function(){return a(4572)}])}},function(e){e.O(0,[774,158,19,967,177,62,491,81,894,888,179],(function(){return t=6575,e(e.s=t);var t}));var t=e.O();_N_E=t}]);