(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39],{4697:function(e,t,a){"use strict";var n=a(2122),i=a(2949),r=a(7294),o=(a(5697),a(6010)),l=a(4670),s=a(2318),c=r.forwardRef((function(e,t){var a=e.action,l=e.avatar,c=e.classes,u=e.className,d=e.component,m=void 0===d?"div":d,p=e.disableTypography,g=void 0!==p&&p,f=e.subheader,h=e.subheaderTypographyProps,v=e.title,Z=e.titleTypographyProps,b=(0,i.Z)(e,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),y=v;null==y||y.type===s.Z||g||(y=r.createElement(s.Z,(0,n.Z)({variant:l?"body2":"h5",className:c.title,component:"span",display:"block"},Z),y));var k=f;return null==k||k.type===s.Z||g||(k=r.createElement(s.Z,(0,n.Z)({variant:l?"body2":"body1",className:c.subheader,color:"textSecondary",component:"span",display:"block"},h),k)),r.createElement(m,(0,n.Z)({className:(0,o.Z)(c.root,u),ref:t},b),l&&r.createElement("div",{className:c.avatar},l),r.createElement("div",{className:c.content},y,k),a&&r.createElement("div",{className:c.action},a))}));t.Z=(0,l.Z)({root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},{name:"MuiCardHeader"})(c)},6846:function(e,t,a){"use strict";var n=a(5318),i=a(862);t.Z=void 0;var r=i(a(7294)),o=(0,n(a(2108)).default)(r.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"ClearOutlined");t.Z=o},5166:function(e,t,a){"use strict";var n=a(5318),i=a(862);t.Z=void 0;var r=i(a(7294)),o=(0,n(a(2108)).default)(r.createElement("path",{d:"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");t.Z=o},3088:function(e,t,a){"use strict";var n=a(7294),i=a(3786);t.Z=(0,i.Z)(n.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},5556:function(e,t,a){"use strict";a.d(t,{Z:function(){return k}});var n=a(6265),i=a(7294),r=a(1120),o=a(1749),l=a(282),s=a(2283),c=a(5166),u=a(6846),d=a(5477),m=a(8302),p=a(3088),g=i.createElement,f=(0,r.Z)((function(e){return{}})),h=function(e){var t=e.onEdit,a=e.onCancel,n=e.onDelete,r=e.onSave,o=e.editing,s=e.submitting,h=f();return g(i.Fragment,null,s&&g(d.Z,{size:30}),!o&&!s&&g("div",{className:h.blockButton},g(l.Z,{color:"primary",variant:"outlined",onClick:t},g(c.Z,null))),o&&!s&&g(i.Fragment,null,a&&g("div",{className:h.blockButton},g(l.Z,{variant:"outlined",onClick:function(e){e.preventDefault(),a&&a()}},g(u.Z,null))),r&&g("div",{className:h.blockButton},g(l.Z,{type:"submit",variant:"outlined",onClick:function(e){e.preventDefault(),r&&r()}},g(m.Z,null))),n&&g("div",{className:h.blockButton},g(l.Z,{type:"submit",variant:"outlined",onClick:function(e){e.preventDefault(),n&&n()}},g(p.Z,null)))))},v=a(9090),Z=a(4179),b=i.createElement,y=(0,r.Z)((function(e){return{stickyickyicky:(0,n.Z)({position:"sticky",top:"75px"},e.breakpoints.up("md"),{top:"75px"}),submitButton:{marginTop:e.spacing(3),marginBottom:e.spacing(3),textTransform:"none",textDecoration:"none",padding:"14px 29px",borderRadius:13,background:"linear-gradient(45deg, #009fe0 5%, #009fe0 90%)"}}}));function k(e){var t=e.sections,a=e.title,n=e.subtitle,r=e.onEdit,c=e.onSubmit,u=e.onCancel,d=e.onDelete,m=e.submitting,p=e.forceEdit,g=e.initializeSave,f=e.hideControls,k=e.submitText,x=y(),N=(0,s.cI)(),E=N.handleSubmit,w=N.register,T=N.control,C=N.errors,D=N.unregister,B=N.watch,S=N.setValue,R=(0,i.useState)(!1),z=R[0],H=R[1];p&&!z&&H(!0);var P=E((function(e){console.log(e),c&&c(e)}));return(0,i.useEffect)((function(){g&&E(c)()}),[g]),b("form",null,t&&b(i.Fragment,null,a&&b(Z.Z,{variant:"h1",className:x.sectionHeader},a),n&&b(Z.Z,{variant:"h6",className:x.headerComment},n),b(o.Z,{container:!0,spacing:0},b(o.Z,{item:!0,container:!0,xs:12},Object.keys(t).map((function(e){var a=t[e];return b(v.Z,{key:e,title:a.name||e,editing:z,errors:C,register:w,unregister:D,watch:B,setValue:S,control:T,fields:a.fields})}))),!f&&b(o.Z,{item:!0,xs:1,className:x.stickyickyicky,style:{height:"1em"}},b(h,{onEdit:p?null:function(){r&&r(),H(!0)},onCancel:p?null:function(){u&&u(),H(!1)},onDelete:d,editing:z,submitting:m,onSave:P})),k&&b(l.Z,{onClick:P,color:"secondary",variant:"contained",disableElevation:!0,size:"large",className:x.submitButton},k||"Submit"))))}},4572:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var n=a(4121),i=a(7294),r=a(1163),o=a(1630),l=a(4321),s=a(1120),c=a(3832),u=a(1749),d=a(9895),m=a(282),p=a(5477),g=a(8463),f=a(4697),h=a(9912),v=a(3027),Z=a(4179),b=a(5426),y=a(9681),k=a(8920),x=a(3457);a(5556),i.createElement,(0,s.Z)((function(e){return{cardRoot:{backgroundColor:e.palette.background.paper,paddingLeft:e.spacing(4),paddingRight:e.spacing(0),paddingBottom:e.spacing(3)}}}));var N=a(5869),E=a(2283),w=a(9090),T=i.createElement,C=(0,s.Z)((function(e){return{loader:{maxHeight:"50vh"},hero:function(t){var a=t.imgUrl,n=t.darkThemeActive,i={backgroundColor:e.palette.background.default};return a&&!n&&(i.background="url("+a+") 50%/cover repeat fixed"),i.padding=e.spacing(4),i},headerPlus:{fontWeight:700,fontSize:"4.125rem",marginBottom:0,marginTop:e.spacing(1),lineHeight:1.05},headerLead:{lineHeight:1.5,color:e.palette.dlg.green},cardRoot:{backgroundColor:e.palette.background.paper,padding:e.spacing(4),borderRadius:9},imageWrapper:{display:"block",width:"100%",paddingTop:75},containerRoot:{minHeight:"70vh"},container:{padding:e.spacing(4)},formHeader:{marginBottom:0,marginTop:40},submitButton:{marginTop:e.spacing(3),marginBottom:e.spacing(3),textTransform:"none",textDecoration:"none",padding:"14px 29px",borderRadius:13,color:e.palette.common.white}}})),D=function(){var e=(0,v.L)(!0),t=(0,n.Z)(e,4),a=t[0],s=t[1],D=(t[2],t[3],(0,y.v$)()),B=(0,n.Z)(D,2),S=B[0],R=(B[1],(0,k.Z)()),z=(0,x.Z)(R.breakpoints.up("md")),H=(0,r.useRouter)().query.projectId,P=C({imgUrl:"/img/Valley-10s-1404px.svg",darkThemeActive:S}),_=(0,N.g)(),L=(0,n.Z)(_,10),j=L[0],I=(L[1],L[2]),V=L[3],O=L[4],F=L[5],M=L[6],U=L[7],q=(L[8],L[9]),A=(0,E.cI)(),W=A.handleSubmit,X=A.register,G=A.control,$=A.errors,J=A.unregister,K=A.watch,Q=A.setValue;return T(i.Fragment,null,T(o.y,{title:"Dataset Upload - Green Toolkit 2"}),T(l.Z,{hideSidebar:!0,disableHover:!0,title:T(b.Z,{projectList:a,projectListInProgress:s,value:a?H:""})},T("section",{className:P.hero},T(c.Z,{maxWidth:!1},T(u.Z,{container:!0,direction:"row",alignItems:"flex-start",justify:"center",spacing:4},T(u.Z,{item:!0,container:!0,direction:"row",alignItems:"flex-start",justify:"flex-start",className:P.header},T(u.Z,{item:!0,container:!0,md:5,xs:12},T(u.Z,{item:!0,container:!0,xs:12},T(Z.Z,{variant:"overline",className:P.headerLead},"Better Insights into Building Performance")),T(u.Z,{item:!0,container:!0,xs:12},T(Z.Z,{variant:"h1",className:z?P.headerPlus:P.headerMiddle},"Upload Data")),T(u.Z,{item:!0,container:!0,xs:12},T(Z.Z,{variant:"h4",className:P.subHeader},"Upload a custom data set. For more info on how to generate a compatible dataset click here."))),T(u.Z,{item:!0,container:!0,md:1,xs:12}),T(u.Z,{item:!0,container:!0,md:6,xs:12},T(d.Z,{variant:"outlined",className:P.cardRoot},T(w.Z,{editing:!0,register:X,control:G,errors:$,unregister:J,setValue:Q,watch:K,fields:{name:{name:"Dataset Name",value:j.projectName,description:"The human readable moniker for this dataset.",editOnly:!0,paragraph:!0,required:!0},descriptionShort:{name:"One Line Description",value:j.projectDescriptionShort,editOnly:!0,required:!1,paragraph:!0},dataset:{name:"Dataset",file:{multiple:!0,userPrompt:"Drag and drop your dataset files here (or click to use the system file browser)."},value:j.files,descrption:"Please select the dataset files (xlsx & images) that will be used with this dataset."}}}),T(u.Z,{container:!0,justify:"center",alignItems:"center",direction:"column"},F&&T(u.Z,{item:!0},T(Z.Z,{variant:"overline"},F+"")),T(u.Z,{item:!0},T(m.Z,{onClick:W(I),color:"secondary",variant:"contained",disableElevation:!0,size:"large",className:P.submitButton},V?T(p.Z,null):"Analyze")))))),O&&T(u.Z,{item:!0,xs:12,md:10},T(g.Z,null,T(f.Z,{title:"Field Specification",subheader:"Define how each column in your dataset should be treated."}),T(h.Z,null,O.fields&&T(w.Z,{editing:!0,register:X,control:G,errors:$,unregister:J,setValue:Q,watch:K,fields:O.fields.map((function(e){return{key:N.S+e.name,name:e.name,required:!0,paragraph:!0,value:e.type,select:[{key:"Number",value:"number"},{key:"Text",value:"text"},{key:"File Reference",value:"fileReference"}]}}))}),T(u.Z,{container:!0,justify:"center",alignItems:"center",direction:"column"},q&&T(u.Z,{item:!0},T(Z.Z,{variant:"overline"},q+"")),T(u.Z,{item:!0},T(m.Z,{onClick:W((function(e){return M(e,H)})),color:"primary",variant:"contained",disableElevation:!0,size:"large",className:P.submitButton},U?T(p.Z,null):"Upload!")))))),O&&T(u.Z,{item:!0,xs:12})))),T("section",null)))}},6575:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/datasets/new",function(){return a(4572)}])}},function(e){e.O(0,[774,158,19,967,177,821,491,27,444,894,888,179],(function(){return t=6575,e(e.s=t);var t}));var t=e.O();_N_E=t}]);