(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{9090:function(e,r,t){"use strict";t.d(r,{Z:function(){return B}});var n=t(6265),o=t(7294),i=t(1120),a=t(1749),c=t(9803),s=t(6209),u=t(5639),l=t(2283),p=t(6445),f=t(3700),d=t(585),g=t(4179),m=t(4264),b=t(463),h=t(5155),y=o.createElement;function v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?v(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var O=(0,i.Z)((function(e){return{}})),w={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},j={display:"flex",flexDirection:"column",width:"100%"},k={borderColor:"#2196f3"},P={borderColor:"#00e676"},Z={borderColor:"#ff1744"},D={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},E={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:75,height:75,padding:4,boxSizing:"border-box",objectFit:"contain"},C={display:"flex",minWidth:0,maxWidth:"100px",maxHeight:"100px",overflow:"hidden",objectFit:"contain"},R={display:"block",width:"auto",height:"100%",objectFit:"contain"};y(h.BI8,null);function L(e){var r=e.register,t=e.unregister,n=e.name,i=e.setValue,a=e.watch,c=e.userPrompt,s=(e.accept,a(n)),u=(0,o.useCallback)((function(e){i(n,e.map((function(e){var r;return Object.assign(e,{extension:null===e||void 0===e||null===(r=e.path)||void 0===r?void 0:r.split(".").pop(),preview:URL.createObjectURL(e)})})),{shouldValidate:!0})}),[i,n]),l=(0,b.uI)({onDrop:u}),p=l.getRootProps,f=l.getInputProps,d=l.isDragActive,g=l.isDragAccept,m=l.isDragReject,v=s&&s.map&&(null===s||void 0===s?void 0:s.map((function(e){return y("div",{style:E,key:e.name},y("div",{style:C},"csv"===e.extension&&y(h.BI8,{style:R}),"csv"!==e.extension&&y("img",{src:e.preview,style:R})))})));(0,o.useEffect)((function(){return r(n),function(){t(n)}}),[r,t,n]),(0,o.useEffect)((function(){return function(){null===s||void 0===s||s.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[s]);O();var L=(0,o.useMemo)((function(){return x(x(x(x({},w),d?k:{}),g?P:{}),m?Z:{})}),[d,m,g]);return y("section",{style:j},y("div",p({style:L}),y("input",f()),y("p",null,c||"Drag 'n' drop files here, or click to select.")),y("div",{style:D},y("ul",null,v)))}var S=o.createElement;function N(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function T(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?N(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var I=(0,i.Z)((function(e){var r;return{description:{marginTop:12.5,marginBottom:17.5,fontWeight:400},descriptionLight:{marginTop:0,fontWeight:300,fontSize:"0.85rem",textTransform:"none"},selectControl:{width:"100%",marginBottom:0},selectInput:{marginBottom:"0px"},formControl:{width:"100%",marginTop:e.spacing(1)},descriptionNote:(r={fontSize:"0.85rem",color:e.palette.text.hint,marginLeft:e.spacing(2)},(0,n.Z)(r,e.breakpoints.up("md"),{marginTop:0,marginLeft:e.spacing(0)}),(0,n.Z)(r,"marginBottom",12.5),(0,n.Z)(r,"paddingLeft",e.spacing(0)),(0,n.Z)(r,"fontWeight",300),(0,n.Z)(r,"textTransform","none"),(0,n.Z)(r,"marginTop",0),r),select:{paddingTop:"18.5px",paddingBottom:"14px"},helperText:{color:"red"},paragraphExpand:{marginBottom:e.spacing(2)}}}));function B(e){var r=I(e),t=e.title,n=e.editing,o=e.errors,i=e.register,b=e.control,h=e.unregister,y=e.setValue,v=e.watch,x=e.fields;return S(a.Z,{container:!0,spacing:0},S(a.Z,{item:!0,xs:12},S(g.Z,{variant:"h4",className:r.description},t)),x&&Object.keys(x).map((function(e){var t,O,w,j,k,P=T(T({},x[e]),{},{key:(null===(t=x[e])||void 0===t?void 0:t.key)||e}),Z=!P.readOnly&&n,D=!P.select&&!P.image&&!P.file,E=P.select&&!P.image,C=!P.select&&P.image,R=!P.select&&!P.image&&P.file;P.select&&P.image&&console.error(new Error("cannot combine image and select parameters for field: "+e));var N=P.validate||P.required,I={};return P.required,I.required="This field is required",P.validate&&(I.validate=P.validate),console.log(o[P.key]),S(a.Z,{container:!0,item:!0,xs:12,key:P.key},S(a.Z,{item:!0,md:P.paragraph?12:6,xs:12},!Z&&!P.editOnly&&!C&&S(a.Z,{container:!0,spacing:0},S(a.Z,{item:!0,xs:P.paragraph?3:6},S(g.Z,{variant:"h6",className:r.descriptionLight},P.name)),S(a.Z,{item:!0,sm:P.paragraph?9:6,xs:P.paragraph?12:6,className:P.paragraph?r.paragraphExpand:""},S(g.Z,{variant:"h6",className:r.descriptionLight},P.value||""," ",P.value&&P.unit))),Z&&D&&S(g.Z,{variant:"h6",className:r.descriptionLight},S(p.Z,{className:r.formControl},S(c.Z,{error:!!o[P.key],helperText:null===(O=o[P.key])||void 0===O?void 0:O.message,label:P.name,defaultValue:P.value||"",name:P.key,inputRef:N?i(I):i,variant:"outlined",InputProps:{style:{marginBottom:"0px"}}}))),Z&&E&&S(g.Z,{variant:"h6",className:r.descriptionLight},S(p.Z,{variant:"outlined",className:r.formControl},S(f.Z,{id:"demo-simple-select-outlined-label"},P.name),S(l.Qr,{className:r.selectControl,as:S(s.Z,{error:!!o[P.key],label:P.name,MenuProps:{className:r.selectMenu},classes:{select:r.select},defaultValue:P.value||""},P.select.map((function(e){return S(u.Z,{classes:{root:r.selectMenuItem},key:e.key,value:e.value},e.display?e.display:e.key)}))),name:P.key,rules:I,control:b,defaultValue:P.value||"",inputProps:{className:r.selectInput}}),o[P.key]&&S(d.Z,{className:r.helperText},null===(w=o[P.key])||void 0===w?void 0:w.message)))),(P.editOnly&&Z||!P.editOnly)&&S(a.Z,{item:!0,md:12,xs:Z?12:6,container:!0,alignItems:"center"},S(g.Z,{variant:"h6",className:r.descriptionNote},P.description)),Z&&C&&S(m.Z,{name:P.key,register:i,unregister:h,setValue:y,watch:v,existing:null===(j=P.value)||void 0===j?void 0:j.url}),Z&&R&&S(L,{name:P.key,register:i,unregister:h,setValue:y,watch:v,existing:null===(k=P.value)||void 0===k?void 0:k.url,userPrompt:R.userPrompt,multiple:R.multiple,fileRestrictions:R.accept}))})))}},4264:function(e,r,t){"use strict";t.d(r,{Z:function(){return x}});var n=t(6265),o=t(1120),i=t(7294),a=t(463),c=i.createElement;function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var l=(0,o.Z)((function(e){return{}})),p={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},f={display:"flex",flexDirection:"row"},d={borderColor:"#2196f3"},g={borderColor:"#00e676"},m={borderColor:"#ff1744"},b={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},h={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:75,height:75,padding:4,boxSizing:"border-box"},y={display:"flex",minWidth:0,maxWidth:"100px",maxHeight:"100px",overflow:"hidden"},v={display:"block",width:"auto",height:"100%"};function x(e){var r=e.register,t=e.unregister,n=e.name,o=e.setValue,s=e.watch,x=(e.existing,s(n)),O=(0,i.useCallback)((function(e){o(n,e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})),{shouldValidate:!0})}),[o,n]),w=(0,a.uI)({accept:"image/*",maxFiles:1,onDrop:O}),j=w.getRootProps,k=w.getInputProps,P=w.isDragActive,Z=w.isDragAccept,D=w.isDragReject,E=x&&(null===x||void 0===x?void 0:x.map((function(e){return c("div",{style:h,key:e.name},c("div",{style:y},c("img",{src:e.preview,style:v})))})));(0,i.useEffect)((function(){return r(n),function(){t(n)}}),[r,t,n]),(0,i.useEffect)((function(){return function(){null===x||void 0===x||x.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[x]);l();var C=(0,i.useMemo)((function(){return u(u(u(u({},p),P?d:{}),Z?g:{}),D?m:{})}),[P,D,Z]);return c("section",{style:f},c("div",j({style:C}),c("input",k()),c("p",null,"(Optional) Drag 'n' drop your project image here, or click to select")),c("aside",{style:b},c("ul",null,E)))}},9650:function(e,r,t){"use strict";t(809)},6252:function(e,r,t){"use strict";t.d(r,{CW:function(){return c},JB:function(){return u},th:function(){return p},GG:function(){return d},eK:function(){return m}});var n=t(809),o=t.n(n),i=t(2447),a=t(9742);t(9650);function c(e,r){return s.apply(this,arguments)}function s(){return(s=(0,i.Z)(o().mark((function e(r,t){var n,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.ZP)("post",null,t,r);case 2:return n=e.sent,e.next=5,fetch("".concat(a.K1,"/project/new"),n);case 5:if((i=e.sent).ok){e.next=8;break}throw Error("Server Side error, check network response: "+i.status+" "+i.statusText);case 8:return e.next=10,i.json();case 10:return c=e.sent,console.log(c),e.abrupt("return",c);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,r,t){return l.apply(this,arguments)}function l(){return(l=(0,i.Z)(o().mark((function e(r,t,n){var i,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("must supply project id for patching");case 2:return e.next=4,(0,a.ZP)("post",null,n,r);case 4:return i=e.sent,e.next=7,fetch("".concat(a.K1,"/project/update/").concat(t),i);case 7:if((c=e.sent).ok){e.next=10;break}throw Error("Server Side error, check network response: "+c.status+" "+c.statusText);case 10:return e.next=12,c.json();case 12:return s=e.sent,console.log(s),e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,r){return f.apply(this,arguments)}function f(){return(f=(0,i.Z)(o().mark((function e(r,t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("must supply project id for deleting");case 2:return e.next=4,(0,a.fy)("project/delete",{projectId:t},r);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,r){return g.apply(this,arguments)}function g(){return(g=(0,i.Z)(o().mark((function e(r,t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.fy)("projects",{_id:""+t},r);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return b.apply(this,arguments)}function b(){return(b=(0,i.Z)(o().mark((function e(r){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.fy)("projects",null,r);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},3027:function(e,r,t){"use strict";t.d(r,{L:function(){return b}});var n=t(809),o=t.n(n),i=t(6265),a=t(2447),c=t(4121),s=t(7294),u=t(2804),l=t(8364),p=t(6252);function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var g={response:!1,inProgress:!1,error:!1},m=(0,u.cn)({key:"projectListAtom",default:g});function b(e){var r=(0,u.FV)(m),t=(0,c.Z)(r,2),n=t[0],i=t[1],f=(0,l.dQ)(),b=(0,c.Z)(f,3),h=b[0];b[1],b[2];(0,s.useEffect)((function(){e&&i(g)}),[]),(0,s.useEffect)((function(){!h||n.response||n.error||n.inProgress||function(){var e=(0,a.Z)(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(d(d({},n),{},{inProgress:!0})),e.next=4,(0,p.eK)(h);case 4:r=e.sent,i({response:r,inProgress:!1}),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("useProject error"),console.error(e.t0),i({error:e.t0,inProgress:!1});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[h,n]);return[n.response,n.inProgress,n.error,function(){i(g)}]}},8065:function(e,r,t){"use strict";function n(e,r){for(var t=new FormData,n=Object.keys(e),o=function(o){var i=n[o],a=e[i];r[i]?null===a||void 0===a||a.forEach((function(e){console.log("appending file "+i+" - "+e.path),t.append(i,e,e.path)})):t.append(i,a)},i=0;i<n.length;i++)o(i);return t}t.d(r,{Z:function(){return n}})}}]);