(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[930],{9090:function(e,t,r){"use strict";r.d(t,{Z:function(){return B}});var n=r(6265),i=r(7294),o=r(1120),a=r(1749),c=r(9803),s=r(6209),u=r(5639),l=r(2283),p=r(6445),f=r(6394),d=r(585),m=r(4179),g=r(4264),h=r(463),b=r(5155),v=i.createElement;function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=(0,o.Z)((function(e){return{}})),O={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},j={display:"flex",flexDirection:"column",width:"100%"},k={borderColor:"#2196f3"},Z={borderColor:"#00e676"},P={borderColor:"#ff1744"},D={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},E={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:75,height:75,padding:4,boxSizing:"border-box",objectFit:"contain"},C={display:"flex",minWidth:0,maxWidth:"100px",maxHeight:"100px",overflow:"hidden",objectFit:"contain"},R={display:"block",width:"auto",height:"100%",objectFit:"contain"};v(b.BI8,null);function N(e){var t=e.register,r=e.unregister,n=e.name,o=e.setValue,a=e.watch,c=e.userPrompt,s=(e.accept,a(n)),u=(0,i.useCallback)((function(e){o(n,e.map((function(e){var t;return Object.assign(e,{extension:null===e||void 0===e||null===(t=e.path)||void 0===t?void 0:t.split(".").pop(),preview:URL.createObjectURL(e)})})),{shouldValidate:!0})}),[o,n]),l=(0,h.uI)({onDrop:u}),p=l.getRootProps,f=l.getInputProps,d=l.isDragActive,m=l.isDragAccept,g=l.isDragReject,y=s&&s.map&&(null===s||void 0===s?void 0:s.map((function(e){return v("div",{style:E,key:e.name},v("div",{style:C},"csv"===e.extension&&v(b.BI8,{style:R}),"csv"!==e.extension&&v("img",{src:e.preview,style:R})))})));(0,i.useEffect)((function(){return t(n),function(){r(n)}}),[t,r,n]),(0,i.useEffect)((function(){return function(){null===s||void 0===s||s.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[s]);w();var N=(0,i.useMemo)((function(){return x(x(x(x({},O),d?k:{}),m?Z:{}),g?P:{})}),[d,g,m]);return v("section",{style:j},v("div",p({style:N}),v("input",f()),v("p",null,c||"Drag 'n' drop files here, or click to select.")),v("div",{style:D},v("ul",null,y)))}var L=i.createElement;function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I=(0,o.Z)((function(e){var t;return{description:{marginTop:12.5,marginBottom:17.5,fontWeight:400},descriptionLight:{marginTop:0,fontWeight:300,fontSize:"0.85rem",textTransform:"none"},selectControl:{width:"100%",marginBottom:0},selectInput:{marginBottom:"0px"},formControl:{width:"100%",marginTop:e.spacing(1)},descriptionNote:(t={fontSize:"0.85rem",color:e.palette.text.hint,marginLeft:e.spacing(2)},(0,n.Z)(t,e.breakpoints.up("md"),{marginTop:0,marginLeft:e.spacing(0)}),(0,n.Z)(t,"marginBottom",12.5),(0,n.Z)(t,"paddingLeft",e.spacing(0)),(0,n.Z)(t,"fontWeight",300),(0,n.Z)(t,"textTransform","none"),(0,n.Z)(t,"marginTop",0),t),select:{paddingTop:"18.5px",paddingBottom:"14px"},helperText:{color:"red"},paragraphExpand:{marginBottom:e.spacing(2)}}}));function B(e){var t=I(e),r=e.title,n=e.editing,i=e.errors,o=e.register,h=e.control,b=e.unregister,v=e.setValue,y=e.watch,x=e.fields;return L(a.Z,{container:!0,spacing:0},L(a.Z,{item:!0,xs:12},L(m.Z,{variant:"h4",className:t.description},r)),x&&Object.keys(x).map((function(e){var r,w,O,j,k,Z=T(T({},x[e]),{},{key:(null===(r=x[e])||void 0===r?void 0:r.key)||e}),P=!Z.readOnly&&n,D=!Z.select&&!Z.image&&!Z.file,E=Z.select&&!Z.image,C=!Z.select&&Z.image,R=!Z.select&&!Z.image&&Z.file;Z.select&&Z.image&&console.error(new Error("cannot combine image and select parameters for field: "+e));var S=Z.validate||Z.required,I={};return Z.required,I.required="This field is required",Z.validate&&(I.validate=Z.validate),L(a.Z,{container:!0,item:!0,xs:12,key:Z.key},L(a.Z,{item:!0,md:Z.paragraph?12:6,xs:12},!P&&!Z.editOnly&&!C&&L(a.Z,{container:!0,spacing:0},L(a.Z,{item:!0,xs:Z.paragraph?3:6},L(m.Z,{variant:"h6",className:t.descriptionLight},Z.name)),L(a.Z,{item:!0,sm:Z.paragraph?9:6,xs:Z.paragraph?12:6,className:Z.paragraph?t.paragraphExpand:""},L(m.Z,{variant:"h6",className:t.descriptionLight},Z.value||""," ",Z.value&&Z.unit))),P&&D&&L(m.Z,{variant:"h6",className:t.descriptionLight},L(p.Z,{className:t.formControl},L(c.Z,{error:!!i[Z.key],helperText:null===(w=i[Z.key])||void 0===w?void 0:w.message,label:Z.name,defaultValue:Z.value||"",name:Z.key,inputRef:S?o(I):o,variant:"outlined",InputProps:{style:{marginBottom:"0px"}}}))),P&&E&&L(m.Z,{variant:"h6",className:t.descriptionLight},L(p.Z,{variant:"outlined",className:t.formControl},L(f.Z,{id:"demo-simple-select-outlined-label"},Z.name),L(l.Qr,{className:t.selectControl,as:L(s.Z,{error:!!i[Z.key],label:Z.name,MenuProps:{className:t.selectMenu},classes:{select:t.select},defaultValue:Z.value||""},Z.select.map((function(e){return L(u.Z,{classes:{root:t.selectMenuItem},key:e.key,value:e.value},e.display?e.display:e.key)}))),name:Z.key,rules:I,control:h,defaultValue:Z.value||"",inputProps:{className:t.selectInput}}),i[Z.key]&&L(d.Z,{className:t.helperText},null===(O=i[Z.key])||void 0===O?void 0:O.message)))),(Z.editOnly&&P||!Z.editOnly)&&L(a.Z,{item:!0,md:12,xs:P?12:6,container:!0,alignItems:"center"},L(m.Z,{variant:"h6",className:t.descriptionNote},Z.description)),P&&C&&L(g.Z,{name:Z.key,register:o,unregister:b,setValue:v,watch:y,existing:null===(j=Z.value)||void 0===j?void 0:j.url}),P&&R&&L(N,{name:Z.key,register:o,unregister:b,setValue:v,watch:y,existing:null===(k=Z.value)||void 0===k?void 0:k.url,userPrompt:R.userPrompt,multiple:R.multiple,fileRestrictions:R.accept}))})))}},4264:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var n=r(6265),i=r(1120),o=r(7294),a=r(463),c=o.createElement;function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=(0,i.Z)((function(e){return{}})),p={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},f={display:"flex",flexDirection:"row"},d={borderColor:"#2196f3"},m={borderColor:"#00e676"},g={borderColor:"#ff1744"},h={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},b={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:75,height:75,padding:4,boxSizing:"border-box"},v={display:"flex",minWidth:0,maxWidth:"100px",maxHeight:"100px",overflow:"hidden"},y={display:"block",width:"auto",height:"100%"};function x(e){var t=e.register,r=e.unregister,n=e.name,i=e.setValue,s=e.watch,x=(e.existing,s(n)),w=(0,o.useCallback)((function(e){i(n,e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})),{shouldValidate:!0})}),[i,n]),O=(0,a.uI)({accept:"image/*",maxFiles:1,onDrop:w}),j=O.getRootProps,k=O.getInputProps,Z=O.isDragActive,P=O.isDragAccept,D=O.isDragReject,E=x&&(null===x||void 0===x?void 0:x.map((function(e){return c("div",{style:b,key:e.name},c("div",{style:v},c("img",{src:e.preview,style:y})))})));(0,o.useEffect)((function(){return t(n),function(){r(n)}}),[t,r,n]),(0,o.useEffect)((function(){return function(){null===x||void 0===x||x.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[x]);l();var C=(0,o.useMemo)((function(){return u(u(u(u({},p),Z?d:{}),P?m:{}),D?g:{})}),[Z,D,P]);return c("section",{style:f},c("div",j({style:C}),c("input",k()),c("p",null,"(Optional) Drag 'n' drop your project image here, or click to select")),c("aside",{style:h},c("ul",null,E)))}},9650:function(e,t,r){"use strict";r(809)},6252:function(e,t,r){"use strict";r.d(t,{CW:function(){return c},JB:function(){return u},th:function(){return p},GG:function(){return d},eK:function(){return g}});var n=r(809),i=r.n(n),o=r(2447),a=r(9742);r(9650);function c(e,t){return s.apply(this,arguments)}function s(){return(s=(0,o.Z)(i().mark((function e(t,r){var n,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.ZP)("post",null,r,t);case 2:return n=e.sent,e.next=5,fetch("".concat(a.K1,"/project/new"),n);case 5:if((o=e.sent).ok){e.next=8;break}throw Error("Server Side error, check network response: "+o.status+" "+o.statusText);case 8:return e.next=10,o.json();case 10:return c=e.sent,console.log(c),e.abrupt("return",c);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,t,r){return l.apply(this,arguments)}function l(){return(l=(0,o.Z)(i().mark((function e(t,r,n){var o,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw Error("must supply project id for patching");case 2:return e.next=4,(0,a.ZP)("post",null,n,t);case 4:return o=e.sent,e.next=7,fetch("".concat(a.K1,"/project/update/").concat(r),o);case 7:if((c=e.sent).ok){e.next=10;break}throw Error("Server Side error, check network response: "+c.status+" "+c.statusText);case 10:return e.next=12,c.json();case 12:return s=e.sent,console.log(s),e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw Error("must supply project id for deleting");case 2:return e.next=4,(0,a.fy)("project/delete",{projectId:r},t);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.fy)("projects",{_id:""+r},t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return(h=(0,o.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.fy)("projects",null,t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},8065:function(e,t,r){"use strict";function n(e,t){for(var r=new FormData,n=Object.keys(e),i=function(i){var o=n[i],a=e[o];t[o]?null===a||void 0===a||a.forEach((function(e){console.log("appending file "+o+" - "+e.path),r.append(o,e,e.path)})):r.append(o,a)},o=0;o<n.length;o++)i(o);return r}r.d(t,{Z:function(){return n}})}}]);